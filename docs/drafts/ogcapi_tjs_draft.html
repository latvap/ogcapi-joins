<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>OGC API - TJS - Part 1: Core</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article data-line-1">
<div id="header">
<h1>OGC API - TJS - Part 1: Core</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<table class="tableblock frame-none grid-none stretch data-line-26">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">Open Geospatial Consortium</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Submission Date: &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Approval Date:  &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Publication Date:  &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">External identifier of this OGC&#174; document: <a href="http://www.opengis.net/doc/IS/xx/xx" class="bare">http://www.opengis.net/doc/IS/xx/xx</a></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Internal reference number of this OGC&#174; document:    YY-xxx</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Version: <a href="http://docs.opengeospatial.org/DRAFTS/YY-xxx.html">1.0.0-SNAPSHOT (Editor&#8217;s draft)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Latest Published Draft: n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Category: OGC&#174; Implementation Specification</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Editors: Pekka Latvala</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch data-line-41">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">OGC API - TJS - Part 1: Core</strong></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-none stretch data-line-46">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Copyright notice</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Copyright &#169; 2019 Open Geospatial Consortium</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">To obtain additional rights of use, visit <a href="http://www.opengeospatial.org/legal/" class="bare">http://www.opengeospatial.org/legal/</a></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch data-line-53">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Warning</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph data-line-57">
<p>This document is not an OGC Standard. This document is distributed for review and comment. This document is subject to change without notice and may not be referred to as an OGC Standard.</p>
</div>
<div class="paragraph data-line-59">
<p>Recipients of this document are invited to submit, with their comments, notification of any relevant patent rights of which they are aware and to provide supporting documentation.</p>
</div>
<table class="tableblock frame-all grid-none data-line-62" style="width: 50%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document type:   	OGC® Standard</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document subtype:   	Interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document stage:   	Draft</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document language: 	English</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div class="paragraph data-line-70">
<p>License Agreement</p>
</div>
<div class="paragraph data-line-72">
<p><span class="small">Permission is hereby granted by the Open Geospatial Consortium, ("Licensor"), free of charge and subject to the terms set forth below, to any person obtaining a copy of this Intellectual Property and any associated documentation, to deal in the Intellectual Property without restriction (except as set forth below), including without limitation the rights to implement, use, copy, modify, merge, publish, distribute, and/or sublicense copies of the Intellectual Property, and to permit persons to whom the Intellectual Property is furnished to do so, provided that all copyright notices on the intellectual property are retained intact and that each person to whom the Intellectual Property is furnished agrees to the terms of this Agreement.</span></p>
</div>
<div class="paragraph data-line-74">
<p><span class="small">If you modify the Intellectual Property, all copies of the modified Intellectual Property must include, in addition to the above copyright notice, a notice that the Intellectual Property includes modifications that have not been approved or adopted by LICENSOR.</span></p>
</div>
<div class="paragraph data-line-76">
<p><span class="small">THIS LICENSE IS A COPYRIGHT LICENSE ONLY, AND DOES NOT CONVEY ANY RIGHTS UNDER ANY PATENTS THAT MAY BE IN FORCE ANYWHERE IN THE WORLD.</span></p>
</div>
<div class="paragraph data-line-78">
<p><span class="small">THE INTELLECTUAL PROPERTY IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NONINFRINGEMENT OF THIRD PARTY RIGHTS. THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS NOTICE DO NOT WARRANT THAT THE FUNCTIONS CONTAINED IN THE INTELLECTUAL PROPERTY WILL MEET YOUR REQUIREMENTS OR THAT THE OPERATION OF THE INTELLECTUAL PROPERTY WILL BE UNINTERRUPTED OR ERROR FREE. ANY USE OF THE INTELLECTUAL PROPERTY SHALL BE MADE ENTIRELY AT THE USER’S OWN RISK. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR ANY CONTRIBUTOR OF INTELLECTUAL PROPERTY RIGHTS TO THE INTELLECTUAL PROPERTY BE LIABLE FOR ANY CLAIM, OR ANY DIRECT, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM ANY ALLEGED INFRINGEMENT OR ANY LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR UNDER ANY OTHER LEGAL THEORY, ARISING OUT OF OR IN CONNECTION WITH THE IMPLEMENTATION, USE, COMMERCIALIZATION OR PERFORMANCE OF THIS INTELLECTUAL PROPERTY.</span></p>
</div>
<div class="paragraph data-line-80">
<p><span class="small">This license is effective until terminated. You may terminate it at any time by destroying the Intellectual Property together with all copies in any form. The license will also terminate if you fail to comply with any term or condition of this Agreement. Except as provided in the following sentence, no such termination of this license shall require the termination of any third party end-user sublicense to the Intellectual Property which is in force as of the date of notice of such termination. In addition, should the Intellectual Property, or the operation of the Intellectual Property, infringe, or in LICENSOR&#8217;s sole opinion be likely to infringe, any patent, copyright, trademark or other right of a third party, you agree that LICENSOR, in its sole discretion, may terminate this license without any compensation or liability to you, your licensees or any other party. You agree upon termination of any kind to destroy or cause to be destroyed the Intellectual Property together with all copies in any form, whether held by you or by any third party.</span></p>
</div>
<div class="paragraph data-line-82">
<p><span class="small">Except as contained in this notice, the name of LICENSOR or of any other holder of a copyright in all or part of the Intellectual Property shall not be used in advertising or otherwise to promote the sale, use or other dealings in this Intellectual Property without prior written authorization of LICENSOR or such copyright holder. LICENSOR is and shall at all times be the sole entity that may authorize you or any third party to use certification marks, trademarks or other special designations to indicate compliance with any LICENSOR standards or specifications. This Agreement is governed by the laws of the Commonwealth of Massachusetts. The application to this Agreement of the United Nations Convention on Contracts for the International Sale of Goods is hereby expressly excluded. In the event any provision of this Agreement shall be deemed unenforceable, void or invalid, such provision shall be modified so as to make it valid and enforceable, and as so modified the entire Agreement shall remain in full force and effect. No decision, action or inaction by LICENSOR shall be construed to be a waiver of any rights or remedies available to it.</span></p>
</div>
<div style="page-break-after: always;"></div>
<div id="toc" class="data-line-85">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_scope">1. Scope</a></li>
<li><a href="#_conformance">2. Conformance</a></li>
<li><a href="#_references">3. References</a></li>
<li><a href="#_terms_and_definitions">4. Terms and Definitions</a>
<ul class="sectlevel2">
<li><a href="#_attribute_dataset">4.1. attribute dataset</a></li>
<li><a href="#_spatial_dataset">4.2. spatial dataset</a></li>
</ul>
</li>
<li><a href="#_conventions_and_background">5. Conventions and background</a>
<ul class="sectlevel2">
<li><a href="#_identifiers">5.1. Identifiers</a></li>
<li><a href="#_link_relations">5.2. Link relations</a>
<ul class="sectlevel4">
<li><a href="#_response_schema_for_the_link_object">5.2.1. Response Schema for the Link Object</a></li>
</ul>
</li>
<li><a href="#_exception_messages">5.3. Exception messages</a>
<ul class="sectlevel4">
<li><a href="#_response_schema_for_the_exception_messages">5.3.1. Response Schema for the Exception Messages</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#rc_core">6. Requirements Class "Core"</a>
<ul class="sectlevel2">
<li><a href="#core-overview">6.1. Overview</a></li>
<li><a href="#core-discovery-operations">6.2. Operation Set: Discovery Operations</a>
<ul class="sectlevel3">
<li><a href="#_api_landing_page">6.2.1. API Landing Page</a></li>
<li><a href="#_api_definition">6.2.2. API Definition</a></li>
<li><a href="#_declaration_of_conformance_classes">6.2.3. Declaration of Conformance Classes</a></li>
</ul>
</li>
<li><a href="#_operation_set_data_joining_operations">6.3. Operation Set: Data Joining Operations</a>
<ul class="sectlevel3">
<li><a href="#_spatial_datasets">6.3.1. Spatial Datasets</a></li>
<li><a href="#_spatial_dataset_2">6.3.2. Spatial Dataset</a></li>
<li><a href="#_spatial_dataset_key_fields">6.3.3. Spatial Dataset Key Fields</a></li>
<li><a href="#_spatial_dataset_key_field">6.3.4. Spatial Dataset Key Field</a></li>
<li><a href="#_spatial_dataset_key_field_key">6.3.5. Spatial Dataset Key Field Key</a></li>
<li><a href="#_data_joining_from_a_csv_file_with_a_spatial_dataset">6.3.6. Data Joining from a CSV File with a Spatial Dataset</a></li>
<li><a href="#_joins">6.3.7. Joins</a></li>
<li><a href="#_join">6.3.8. Join</a></li>
<li><a href="#_join_updating_with_csv_file_data">6.3.9. Join Updating with CSV File Data</a></li>
<li><a href="#_join_deleting">6.3.10. Join Deleting</a></li>
</ul>
</li>
<li><a href="#_operation_set_file_joining_operations">6.4. Operation Set: File Joining Operations</a>
<ul class="sectlevel3">
<li><a href="#_data_joining_from_a_csv_file_with_a_geojson_file">6.4.1. Data Joining from a CSV File with a GeoJSON file</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#mediatypes">7. Media Types for any data encoding(s)</a>
<ul class="sectlevel2">
<li><a href="#_operation_sets_discovery_operations_and_data_joining_operations">7.1. Operation sets: discovery operations and data joining operations</a></li>
<li><a href="#_outputs_for_the_joined_data_in_operation_set_data_joining_operations">7.2. Outputs for the joined data in operation set: data joining operations</a></li>
<li><a href="#_operation_set_file_joining_operations_2">7.3. Operation set: file joining operations</a></li>
</ul>
</li>
<li><a href="#ats">Annex A: Abstract Test Suite (Normative)</a>
<ul class="sectlevel2">
<li><a href="#ats_core">A.1. Conformance Class "Core"</a>
<ul class="sectlevel3">
<li><a href="#_landing_page_root">A.1.1. Landing Page {root}/</a></li>
<li><a href="#_api_definiton_path_rootapi">A.1.2. API Definiton path {root}/api</a></li>
<li><a href="#_conformance_rootconformance">A.1.3. Conformance {root}/conformance</a></li>
</ul>
</li>
<li><a href="#_conformance_class_core_data_joining_csv">A.2. Conformance class: Core / Data Joining CSV</a>
<ul class="sectlevel3">
<li><a href="#_spatial_datasets_rootspatialdatasets">A.2.1. Spatial Datasets {root}/spatialdatasets</a></li>
<li><a href="#_spatial_dataset_rootspatialdatasetsspatialdatasetid">A.2.2. Spatial Dataset {root}/spatialdatasets/{spatialdatasetid}</a></li>
<li><a href="#_spatial_dataset_keys_rootspatialdatasetsspatialdatasetidkeys">A.2.3. Spatial Dataset keys {root}/spatialdatasets/{spatialdatasetid}/keys</a></li>
<li><a href="#_spatial_dataset_key_field_rootspatialdatasetsspatialdatasetidkeyskeyname">A.2.4. Spatial Dataset key field {root}/spatialdatasets/{spatialdatasetid}/keys/{keyname}</a></li>
<li><a href="#_spatial_dataset_key_field_key_rootspatialdatasetsspatialdatasetidkeyskeynamekey">A.2.5. Spatial Dataset key field key {root}/spatialdatasets/{spatialdatasetid}/keys/{keyname}/{key}</a></li>
<li><a href="#_spatial_dataset_joining_with_csv_data_rootjoindataspatialdatasetidcsv">A.2.6. Spatial Dataset joining with CSV data {root}/joindata/{spatialdatasetid}/csv</a></li>
<li><a href="#_joins_rootjoins">A.2.7. Joins {root}/joins</a></li>
<li><a href="#_join_rootjoinsjoinid">A.2.8. Join {root}/joins/{joinid}</a></li>
</ul>
</li>
<li><a href="#_conformance_class_core_data_joining_csv_update">A.3. Conformance class: Core / Data Joining CSV Update</a>
<ul class="sectlevel3">
<li><a href="#_join_update_csv_rootjoinsjoinidcsv">A.3.1. Join Update CSV {root}/joins/{joinid}/csv</a></li>
</ul>
</li>
<li><a href="#_conformance_class_core_data_joining_delete">A.4. Conformance class: Core / Data Joining Delete</a>
<ul class="sectlevel3">
<li><a href="#_join_delete_rootjoinsjoinid">A.4.1. Join Delete {root}/joins/{joinid}</a></li>
</ul>
</li>
<li><a href="#_conformance_class_core_file_joining_geojson_csv">A.5. Conformance class: Core / File Joining GeoJSON CSV</a>
<ul class="sectlevel3">
<li><a href="#_file_joining_geojson_csv_rootjoinfilesgeojsoncsv">A.5.1. File Joining GeoJSON CSV {root}//joinfiles/geojson/csv</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_revision_history">Annex B: Revision History</a></li>
<li><a href="#Bibliography">Annex C: Bibliography</a></li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph data-line-1">
<p>﻿<strong class="big">i.     Abstract</strong></p>
</div>
<div class="paragraph data-line-3">
<p>This document is the specification for the core module of the OGC API - TJS standard. The core module specifies a service interface that allows non-spatial attribute data to be joined with spatial datasets via common identifiers that are available in both datasets. The TJS core module supports also operations for viewing metadata on spatial datasets and their keys that are available on the server, operations for accessing, updating and deleting the created joins and operation for joining attribute data directly with inputted spatial data files.</p>
</div>
<div class="admonitionblock caution data-line-5">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
This is a DRAFT version of the OGC API - TJS standard. This draft is not complete and there are open issues that are still under discussion.
</td>
</tr>
</table>
</div>
<div class="paragraph data-line-7">
<p><strong class="big">ii.    Keywords</strong></p>
</div>
<div class="paragraph data-line-9">
<p>The following are keywords to be used by search engines and document catalogues.</p>
</div>
<div class="paragraph data-line-11">
<p>ogcdoc, OGC document, standard, TJS, API, openapi</p>
</div>
<div class="paragraph data-line-13">
<p><strong class="big">iii.   Preface</strong></p>
</div>
<div class="paragraph data-line-15">
<p>This standard is the result of the work that was executed to renew the OGC implementation standard: OpenGIS® Georeferenced Table Joining Service (TJS) (document nr. 10-070r2), specified in 2010.</p>
</div>
<div class="paragraph data-line-17">
<p>This document defines the core module of the OGC API - TJS standard. The specification is a multi-part document that can be extended by specifying extension modules to the core module.</p>
</div>
<div class="paragraph data-line-19">
<p>This document does not suggest any updates to the OGC Abstract Specification</p>
</div>
<div class="paragraph data-line-21">
<p>Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. The Open Geospatial Consortium Inc. shall not be held responsible for identifying any or all such patent rights.</p>
</div>
<div class="paragraph data-line-23">
<p>Recipients of this document are requested to submit, with their comments, notification of any relevant patent claims or other intellectual property rights of which they may be aware that might be infringed by any implementation of the standard set forth in this document, and to provide supporting documentation.</p>
</div>
<div class="paragraph data-line-25">
<p><strong class="big">iv.    Submitting organizations</strong></p>
</div>
<div class="paragraph data-line-27">
<p>The following organizations submitted this document to the Open Geospatial Consortium (OGC):</p>
</div>
<div class="ulist data-line-29">
<ul>
<li class="data-line-29">
<p>National Land Survey of Finland</p>
</li>
</ul>
</div>
<div class="paragraph data-line-31">
<p><strong class="big">v.     Submitters</strong></p>
</div>
<div class="paragraph data-line-33">
<p>All questions regarding this submission should be directed to the editors or the submitters:</p>
</div>
<table class="tableblock frame-all grid-all stretch data-line-35">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Affiliation</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Pekka Latvala <em>(editor)</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">National Land Survey of Finland</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1 data-line-1">
<h2 id="_scope"><a class="anchor" href="#_scope"></a>1. Scope</h2>
<div class="sectionbody">
<div class="paragraph data-line-3">
<p>This OpenGIS® standard defines the core module for the OGC API - TJS specification. The core module specifies a RESTful service interface that contains 3 operation sets: <em>discovery operations</em>, <em>data joining operations</em> and <em>file joining operations</em>.</p>
</div>
<div class="paragraph data-line-5">
<p>The operation set <em>discovery operations</em> contains operations for obtaining general information on the TJS implementation. It includes operations for accessing the API landing page, the API definition file and information on the service’s conformance to the TJS standard.</p>
</div>
<div class="paragraph data-line-7">
<p>The operation set <em>data joining operations</em> contains functionalities for retrieving metadata and key values on the spatial datasets that are available on the server, joining attribute data from csv files with these spatial datasets and accessing, updating and deleting the created joins.</p>
</div>
<div class="paragraph data-line-9">
<p>The operation set <em>file joining operations</em> can be used for joining attribute data directly with inputted spatial data files. The core module contains file joining support between GeoJSON spatial data files and csv attribute data files.</p>
</div>
<div class="paragraph data-line-93">
<p>The core module doesn’t contain any functionalities for inserting, updating or deleting the spatial datasets on the server. These functionalities can be defined in potential extension modules. The support for other attribute data formats than csv in the <em>data joining operations</em> and <em>file joining operations</em>, together with the support for other spatial data formats than GeoJSON in the <em>file joining operations</em> can be also defined in potential extension modules.</p>
</div>
</div>
</div>
<div class="sect1 data-line-1">
<h2 id="_conformance"><a class="anchor" href="#_conformance"></a>2. Conformance</h2>
<div class="sectionbody">
<div class="paragraph data-line-3">
<p>This standard defines 1 requirement class: “core”.</p>
</div>
<div class="paragraph data-line-5">
<p>Requirements for 1 standardization target types are considered:</p>
</div>
<div class="ulist data-line-7">
<ul>
<li class="data-line-7">
<p>Web services</p>
</li>
</ul>
</div>
<div class="paragraph data-line-9">
<p>This standard defines three operations classes <em>discovery operations</em>, <em>data joining operations</em> and <em>file joining operations</em>.</p>
</div>
<div class="paragraph data-line-11">
<p>Conformance with this standard shall be checked using all the relevant tests
specified in <a href="#ats">Annex A</a> (normative) of this document. The framework, concepts, and
methodology for testing, and the criteria to be achieved to claim conformance
are specified in the OGC Compliance Testing Policies and Procedures and the
OGC Compliance Testing web site.</p>
</div>
</div>
</div>
<div class="sect1 data-line-1">
<h2 id="_references"><a class="anchor" href="#_references"></a>3. References</h2>
<div class="sectionbody">
<div class="paragraph data-line-2">
<p>The following normative documents contain provisions that, through reference in this text, constitute provisions of this document. For dated references, subsequent amendments to, or revisions of, any of these publications do not apply. For undated references, the latest edition of the normative document referred to applies.</p>
</div>
<div class="ulist data-line-4">
<ul>
<li class="data-line-4">
<p><a id="rfc2616"></a> Internet Engineering Task Force (IETF). RFC 2616, <strong>Hypertext Transfer Protocol&#8201;&#8212;&#8201;HTTP/1.1</strong> [online]. Edited by R. Fielding, J. Gettys, J. Mogul, H. Frystyk, L. Masinter, P. Leach and T. Berners-Lee. 1999 [viewed 2020-04-06]. Available at: <a href="https://tools.ietf.org/html/rfc2616" class="bare">https://tools.ietf.org/html/rfc2616</a></p>
</li>
<li class="data-line-6">
<p><a id="rfc3986"></a> Internet Engineering Task Force (IETF). RFC 3986, <strong>Uniform Resource Identifier (URI): Generic Syntax</strong> [online]. Edited by T. Berners-Lee, R. Fielding and L. Masinter. 2005 [viewed 2020-04-06]. Available at: <a href="https://tools.ietf.org/html/rfc3986" class="bare">https://tools.ietf.org/html/rfc3986</a></p>
</li>
<li class="data-line-8">
<p><a id="rfc6266"></a> Internet Engineering Task Force (IETF). RFC 6266 <strong>Use of the Content-Disposition Header Field in the Hypertext Transfer Protocol (HTTP)</strong> [online]. Edited by J. Reschke. 2011 [viewed 2020-04-06]. Available at: <a href="https://tools.ietf.org/html/rfc6266" class="bare">https://tools.ietf.org/html/rfc6266</a></p>
</li>
<li class="data-line-10">
<p><a id="rfc7578"></a> Internet Engineering Task Force (IETF). RFC 7578 <strong>Returning Values from Forms: multipart/form-data</strong> [online]. Edited by L. Masinter. 2015 [viewed 2020-04-06]. Available at: <a href="https://tools.ietf.org/html/rfc7578" class="bare">https://tools.ietf.org/html/rfc7578</a></p>
</li>
<li class="data-line-12">
<p><a id="rfc7946"></a> Internet Engineering Task Force (IETF). RFC 7946 <strong>The GeoJSON Format</strong> [online]. Edited by H. Butler, M. Daly, A. Doyle, S. Gillies, S. Hagen, and T. Schaub.  2016 [viewed 2020-04-06]. Available at: <a href="https://tools.ietf.org/html/rfc7946" class="bare">https://tools.ietf.org/html/rfc7946</a></p>
</li>
<li class="data-line-14">
<p><a id="rfc8288"></a> Internet Engineering Task Force (IETF). RFC 8288 <strong>Web Linking</strong> [online]. Edited by M. Nottingham. 2017 [viewed 2020-04-06]. Available at: <a href="http://tools.ietf.org/rfc/rfc8288" class="bare">http://tools.ietf.org/rfc/rfc8288</a></p>
</li>
<li class="data-line-16">
<p><a id="OpenAPI"></a> Open API Initiative (OAI): <strong>The OpenAPI specification 3.0</strong> [online]. 2020 [viewed 2020-04-06]. Available at: <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/" class="bare">https://github.com/OAI/OpenAPI-Specification/blob/master/versions/</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1 data-line-1">
<h2 id="_terms_and_definitions"><a class="anchor" href="#_terms_and_definitions"></a>4. Terms and Definitions</h2>
<div class="sectionbody">
<div class="paragraph data-line-2">
<p>This document uses the terms defined in Sub-clause 5.3 of [OGC 06-121r9], which is based on the ISO/IEC Directives, Part 2, Rules for the structure and drafting of International Standards. In particular, the word “shall” (not “must”) is the verb form used to indicate a requirement to be strictly followed to conform to this standard.</p>
</div>
<div class="paragraph data-line-4">
<p>For the purposes of this document, the following additional terms and definitions apply.</p>
</div>
<div class="sect2 data-line-6">
<h3 id="_attribute_dataset"><a class="anchor" href="#_attribute_dataset"></a>4.1. attribute dataset</h3>
<div class="paragraph data-line-7">
<p>Dataset that contains attribute information that can be joined with a spatial dataset through common identifiers.</p>
</div>
</div>
<div class="sect2 data-line-9">
<h3 id="_spatial_dataset"><a class="anchor" href="#_spatial_dataset"></a>4.2. spatial dataset</h3>
<div class="paragraph data-line-99">
<p>Dataset that contains geometry information.</p>
</div>
</div>
</div>
</div>
<div class="sect1 data-line-1">
<h2 id="_conventions_and_background"><a class="anchor" href="#_conventions_and_background"></a>5. Conventions and background</h2>
<div class="sectionbody">
<div class="sect2 data-line-3">
<h3 id="_identifiers"><a class="anchor" href="#_identifiers"></a>5.1. Identifiers</h3>
<div class="paragraph data-line-5">
<p>The normative provisions in this specification are denoted by the URI <code><a href="http://www.opengis.net/spec/tjs/2.0" class="bare">http://www.opengis.net/spec/tjs/2.0</a></code></p>
</div>
<div class="paragraph data-line-7">
<p>All requirements and conformance tests that appear in this document are denoted by partial URIs which are relative to this base.</p>
</div>
</div>
<div class="sect2 data-line-9">
<h3 id="_link_relations"><a class="anchor" href="#_link_relations"></a>5.2. Link relations</h3>
<div class="paragraph data-line-11">
<p>To express relationships between resources, <a href="#rfc8288">RFC 8288 (Web Linking)</a> is used.</p>
</div>
<div class="paragraph data-line-13">
<p>The following <a href="#link-relations">registered link relation types [IANA]</a> are used in this document.</p>
</div>
<div class="ulist data-line-15">
<ul>
<li class="data-line-15">
<p><strong>alternate</strong>: Refers to a substitute for this context.</p>
</li>
<li class="data-line-17">
<p><strong>self</strong>: Conveys an identifier for the link&#8217;s context.</p>
</li>
<li class="data-line-19">
<p><strong>service-desc</strong>: Identifies service description for the context that is primarily intended for consumption by machines.</p>
<div class="ulist data-line-21">
<ul>
<li class="data-line-21">
<p>API definitions are considered service descriptions.</p>
</li>
</ul>
</div>
</li>
<li class="data-line-23">
<p><strong>service-doc</strong>: Identifies service documentation for the context that is primarily intended for human consumption.</p>
</li>
</ul>
</div>
<div class="paragraph data-line-25">
<p>In addition the following link relation types are used for which no applicable registered link relation type could be identified.</p>
</div>
<div class="ulist data-line-27">
<ul>
<li class="data-line-27">
<p><strong>conformance</strong>: Refers to a resource that identifies the specifications that the link&#8217;s context conforms to.</p>
</li>
<li class="data-line-29">
<p><strong>spatialdatasets</strong>: Refers to a resource that is comprised of the metadata of the spatialdatasets that are available on the server.</p>
</li>
<li class="data-line-31">
<p><strong>keys</strong>: Refers to a resource that is comprised of the metadata of the key fields that belong to a specific spatial dataset that is available on the server.</p>
</li>
<li class="data-line-33">
<p><strong>keyname</strong>: Refers to a resource that is comprised of the metadata of the key values that belong to a specific key field of a specific spatial dataset that is available on the server.</p>
</li>
<li class="data-line-35">
<p><strong>key</strong>: Refers to a resource that is comprised of a specific key value of a specific key field of a specific spatial dataset that is available on the server.</p>
</li>
<li class="data-line-37">
<p><strong>joins</strong>: Refers to a resource that is comprised of the metadata of the created joins that are available on the server.</p>
</li>
<li class="data-line-39">
<p><strong>join</strong>: Refers to a resource that is comprised of the metadata of the specific join that is available on the server.</p>
</li>
</ul>
</div>
<div class="sect4 data-line-41">
<h5 id="_response_schema_for_the_link_object"><a class="anchor" href="#_response_schema_for_the_link_object"></a>5.2.1. Response Schema for the Link Object</h5>
<div id="link_schema" class="listingblock data-line-2">
<div class="content">
<pre>Link:
  required:
  - href
  type: object
  properties:
    href:
      type: string
    rel:
      type: string
    type:
      type: string
    hreflang:
      type: string
    title:
      type: string</pre>
</div>
</div>
</div>
</div>
<div class="sect2 data-line-45">
<h3 id="_exception_messages"><a class="anchor" href="#_exception_messages"></a>5.3. Exception messages</h3>
<div class="paragraph data-line-47">
<p>The exception messages have the following structure:</p>
</div>
<table class="tableblock frame-all grid-all stretch data-line-49">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Name</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The HTTP status code of the response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Details of the exception.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">locator</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Name of the request parameter that caused the exception</p></td>
</tr>
</tbody>
</table>
<div class="sect4 data-line-56">
<h5 id="_response_schema_for_the_exception_messages"><a class="anchor" href="#_response_schema_for_the_exception_messages"></a>5.3.1. Response Schema for the Exception Messages</h5>
<div id="exception_schema" class="listingblock data-line-2">
<div class="content">
<pre>schema:
  $ref: '#/components/schemas/ExceptionMessage'

ExceptionMessage:
  required:
  - message
  - status
  type: object
  properties:
    status:
      type: string
    message:
      type: string
    locator:
      type: string</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1 data-line-2">
<h2 id="rc_core"><a class="anchor" href="#rc_core"></a>6. Requirements Class "Core"</h2>
<div class="sectionbody">
<div class="sect2 data-line-5">
<h3 id="core-overview"><a class="anchor" href="#core-overview"></a>6.1. Overview</h3>
<div class="paragraph data-line-7">
<p>The requirement class “core” contains 3 operation sets: <em>discovery operations</em>, <em>data joining operations</em> and <em>file joining operations</em>. The <a href="#core-overview-table">Table 1</a> contains an overview of the operations specified in the core module.</p>
</div>
<div class="paragraph data-line-9">
<p>The operation set <em>discovery operations</em> contains functionalities for accessing the API landing page, the API definition file and the information on the service’s conformance to the specification. The TJS implementations SHALL support all operations in the operation set <em>discovery operations</em>.</p>
</div>
<div class="paragraph data-line-11">
<p>The TJS implementations SHALL support at least one of the operation sets: <em>data joining operations</em> and <em>file joining operations</em>. If a server supports a particular operation set it SHALL implement all mandatory operations that belong to it.</p>
</div>
<div class="paragraph data-line-13">
<p>The operation set <em>data joining operations</em> contains functionalities for accessing metadata and key values on the spatial datasets that are available on the server, joining csv files with the spatial datasets and accessing, updating and deleting the joins on the server.</p>
</div>
<div class="paragraph data-line-15">
<p>The operation set <em>file joining operations</em> contains a functionality for joining attribute data from an inputted csv file to an inputted GeoJSON file.</p>
</div>
<table id="core-overview-table" class="tableblock frame-all grid-all data-line-4" style="width: 95%;">
<caption class="title">Table 1. Overview of the operations in the OGC API - TJS core module</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 16.6666%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Path</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>HTTP method</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="3" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Discovery operations</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">API landing page</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/api</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">API definition document</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/conformance</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">API conformance declaration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Data joining operations</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/spatialdatasets</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Returns metadata on all spatial datasets available on the server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/spatialdatasets/{spatialdatasetid}</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Returns metadata on a specific spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/spatialdatasets/{spatialdatasetid}/keys</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Returns a list of available key fields of a specific spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/spatialdatasets/{spatialdatasetid}/keys/{keyname}</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Returns the key values of a specific key field of a specific spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/spatialdatasets/{spatialdatasetid}/keys/{keyname}/{key}</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Returns a specific key value of a specific key field of a specific spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/joindata/{spatialdatasetid}/csv</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">POST</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Creates a new join by joining attribute data from a csv file with a specific spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/joins</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Returns a list of all joins available on the server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/joins/{joinid}</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Returns metadata on a specific join</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/joins/{joinid}/csv</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">POST</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Updates fully a specific join with a data from a csv file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/joins/{joinid}</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">DELETE</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Deletes a specific join</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3" style="background-color: #FFFFFF;"><p class="tableblock"><strong>File joining operations</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/joinfiles/geojson/csv</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">POST</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Joins attribute data from a csv file with a GeoJSON file</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2 data-line-2">
<h3 id="core-discovery-operations"><a class="anchor" href="#core-discovery-operations"></a>6.2. Operation Set: Discovery Operations</h3>
<div class="paragraph data-line-4">
<p>The operation set <em>discovery operations</em> contains operations that provide general information on the TJS implementation. The TJS implementations SHALL support all operations in this operation set.</p>
</div>
<div class="sect3 data-line-6">
<h4 id="_api_landing_page"><a class="anchor" href="#_api_landing_page"></a>6.2.1. API Landing Page</h4>
<div class="paragraph data-line-8">
<p>The HTTP GET operation at service root path <code>/</code> returns the API landing page document. The API landing page document contains links to the API definition document, conformance information and to the metadata on the spatial datasets and joins that are available on the server.</p>
</div>
<div class="sect4 data-line-10">
<h5 id="_request"><a class="anchor" href="#_request"></a>6.2.1.1. Request</h5>
<table id="req_core_root-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/root-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP GET operation at the path <code>/</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-14">
<h5 id="_response"><a class="anchor" href="#_response"></a>6.2.1.2. Response</h5>
<table id="req_core_root-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/root-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server implementations SHALL support the JSON output format. Any other output formats MAY also be supported.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response is an API landing page document that is based on the <a href="#schema_landingPage">landing page schema</a>.</p>
</div>
<div class="paragraph">
<p>The response document SHALL contain <a href="#link_schema">links</a> to the following resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>self</code> (link rel property value: 'self')</p>
</li>
<li>
<p><code>/api</code> (link rel property value: 'service-desc' or 'service-doc')</p>
</li>
<li>
<p><code>/conformance</code> (link rel property value: 'conformance')</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the TJS implementation supports the <em>data joining operations</em> operation set, the landing page SHALL contain also links to the following resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/spatialdatasets</code> (link rel property value: 'spatialdatasets')</p>
</li>
<li>
<p><code>/joins</code> (link rel property value: 'joins')</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The links SHALL contain the property values 'href', 'rel', 'title' and 'type'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-18">
<h5 id="_errors"><a class="anchor" href="#_errors"></a>6.2.1.3. Errors</h5>
<table id="req_core_root-error" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Requirement 3</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>/req/core/root-error</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If there is an error in the server during the processing of the request, it SHALL be reported as a response with a HTTP status code <code>500</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Internal server error'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-22">
<h5 id="_schema_for_the_landing_page"><a class="anchor" href="#_schema_for_the_landing_page"></a>6.2.1.4. Schema for the Landing Page</h5>
<div id="schema_landingPage" class="listingblock data-line-2">
<div class="content">
<pre>schema:
  $ref: '#/components/schemas/LandingPageResponseObject'

LandingPageResponseObject:
  required:
  - links
  type: object
  properties:
    title:
      type: string
    description:
      type: string
    links:
      type: array
      items:
        $ref: '#/components/schemas/Link'</pre>
</div>
</div>
</div>
</div>
<div class="sect3 data-line-26">
<h4 id="_api_definition"><a class="anchor" href="#_api_definition"></a>6.2.2. API Definition</h4>
<div class="paragraph data-line-28">
<p>The HTTP GET operation at path <code>/api</code> returns the service’s API definition document.</p>
</div>
<div class="sect4 data-line-30">
<h5 id="_request_2"><a class="anchor" href="#_request_2"></a>6.2.2.1. Request</h5>
<table id="req_core_api-definition-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 4</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/api-definition-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The URIs of all API definitions referenced from the landing page SHALL support the HTTP GET method.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-34">
<h5 id="_response_2"><a class="anchor" href="#_response_2"></a>6.2.2.2. Response</h5>
<table id="req_core_api-definition-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 5</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/api-definition-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div>
<div class="paragraph">
<p>The server SHALL return an API definition document. The recommended format is OpenAPI version 3.0.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-38">
<h5 id="_errors_2"><a class="anchor" href="#_errors_2"></a>6.2.2.3. Errors</h5>
<table id="req_core_api-definition-error" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Requirement 6</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>/req/core/api-definition-error</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If there is an error in the server during the processing of the request, it SHALL be reported as a response with a HTTP status code <code>500</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Internal server error'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3 data-line-42">
<h4 id="_declaration_of_conformance_classes"><a class="anchor" href="#_declaration_of_conformance_classes"></a>6.2.3. Declaration of Conformance Classes</h4>
<div class="paragraph data-line-44">
<p>The HTTP GET operation at path <code>/conformance</code> returns a list of TJS conformance classes that the server supports.</p>
</div>
<div class="paragraph data-line-46">
<p>The conformance class values, defined in the core module are:</p>
</div>
<div class="ulist data-line-48">
<ul>
<li class="data-line-48">
<p>Core</p>
<div class="ulist data-line-50">
<ul>
<li class="data-line-50">
<p><a href="http://www.opengis.net/spec/tjs/2.0/conf/core" class="bare">http://www.opengis.net/spec/tjs/2.0/conf/core</a></p>
</li>
</ul>
</div>
</li>
<li class="data-line-52">
<p>Data joining from CSV files</p>
<div class="ulist data-line-54">
<ul>
<li class="data-line-54">
<p><a href="http://www.opengis.net/spec/tjs/2.0/conf/core/data-joining-csv" class="bare">http://www.opengis.net/spec/tjs/2.0/conf/core/data-joining-csv</a></p>
</li>
</ul>
</div>
</li>
<li class="data-line-56">
<p>Join updating from CSV files:</p>
<div class="ulist data-line-58">
<ul>
<li class="data-line-58">
<p><a href="http://www.opengis.net/spec/tjs/2.0/conf/core/data-joining-csv-update" class="bare">http://www.opengis.net/spec/tjs/2.0/conf/core/data-joining-csv-update</a></p>
</li>
</ul>
</div>
</li>
<li class="data-line-60">
<p>Join deleting</p>
<div class="ulist data-line-62">
<ul>
<li class="data-line-62">
<p><a href="http://www.opengis.net/spec/tjs/2.0/conf/core/data-joining-delete" class="bare">http://www.opengis.net/spec/tjs/2.0/conf/core/data-joining-delete</a></p>
</li>
</ul>
</div>
</li>
<li class="data-line-64">
<p>File joining (GeoJSON and CSV)</p>
<div class="ulist data-line-66">
<ul>
<li class="data-line-66">
<p><a href="http://www.opengis.net/spec/tjs/2.0/conf/core/file-joining-geojson-csv" class="bare">http://www.opengis.net/spec/tjs/2.0/conf/core/file-joining-geojson-csv</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect4 data-line-68">
<h5 id="_request_3"><a class="anchor" href="#_request_3"></a>6.2.3.1. Request</h5>
<table id="req_core_conformance-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 7</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/conformance-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server SHALL support the HTTP GET operation at the path <code>/conformance</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-72">
<h5 id="_response_3"><a class="anchor" href="#_response_3"></a>6.2.3.2. Response</h5>
<table id="req_core_conformance-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 8</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/conformance-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server implementations SHALL support the JSON output format. Any other output formats MAY also be supported.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response contains a list of conformance classes that the service supports. The response document is based on the <a href="#conformance_schema">conformance schema</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-76">
<h5 id="_errors_3"><a class="anchor" href="#_errors_3"></a>6.2.3.3. Errors</h5>
<table id="req_core_conformance-error" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Requirement 9</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>/req/core/conformance-error</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If there is an error in the server during the processing of the request, it SHALL be reported as a response with a HTTP status code <code>500</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Internal server error'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-80">
<h5 id="_response_schema_for_the_conformance"><a class="anchor" href="#_response_schema_for_the_conformance"></a>6.2.3.4. Response schema for the Conformance</h5>
<div id="conformance_schema" class="listingblock data-line-2">
<div class="content">
<pre>schema:
  $ref: '#/components/schemas/ConformanceResponseObject'

ConformanceResponseObject:
  required:
  - conformsTo
  type: object
  properties:
    conformsTo:
      type: array
    items:
      type: string</pre>
</div>
</div>
<div class="paragraph data-line-1">
<p>﻿<a id="core-data-joining-operations"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2 data-line-3">
<h3 id="_operation_set_data_joining_operations"><a class="anchor" href="#_operation_set_data_joining_operations"></a>6.3. Operation Set: Data Joining Operations</h3>
<div class="paragraph data-line-5">
<p>The operation set <em>data joining operations</em> contains operations for:</p>
</div>
<div class="ulist data-line-7">
<ul>
<li class="data-line-7">
<p>Retrieving metadata and key values of the spatial datasets that are available on the server</p>
</li>
<li class="data-line-8">
<p>Joining attribute data from CSV files with the spatial datasets that are available on the server</p>
</li>
<li class="data-line-9">
<p>Accessing, updating and deleting the created joins.</p>
</li>
</ul>
</div>
<div class="paragraph data-line-11">
<p>The data joins are executed through common keys that are shared between the spatial dataset and the attribute dataset.</p>
</div>
<div class="sect3 data-line-13">
<h4 id="_spatial_datasets"><a class="anchor" href="#_spatial_datasets"></a>6.3.1. Spatial Datasets</h4>
<div class="paragraph data-line-15">
<p>The HTTP GET operation at path <code>/spatialdatasets</code> returns metadata on all spatial datasets that are available on the server.</p>
</div>
<div class="sect4 data-line-17">
<h5 id="_request_4"><a class="anchor" href="#_request_4"></a>6.3.1.1. Request</h5>
<table id="req_core_spatialdatasets-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 10</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/spatialdatasets-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the server implements the <em>data joining operations</em> operation set it SHALL support the HTTP GET operation at path <code>/spatialdatasets</code>.</p>
</div>
<div class="paragraph">
<p>The server implementations SHALL support the following query parameters:</p>
</div>
<div class="paragraph">
<p><strong>Query parameters:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 16.6666%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filters spatial datasets by organization</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">startDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filters spatial datasets by start date. Format: yyyy-mm-dd</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">endDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filters spatial datasets by end date. Format: yyyy-mm-dd</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-21">
<h5 id="_response_4"><a class="anchor" href="#_response_4"></a>6.3.1.2. Response</h5>
<table id="req_core_spatialdatasets-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 11</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/spatialdatasets-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server implementations SHALL support the JSON output format. Any other output formats MAY also be supported.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response document is based on the <a href="#spatialdatasets_schema">spatialdatasets schema</a>.</p>
</div>
<div class="paragraph">
<p>The response document SHALL include the following <a href="#link_schema">links</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A link to this document (link rel: 'self')</p>
</li>
<li>
<p>Links to this document in other supported media types (link rel: 'alternate')</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The links SHALL contain the parameters href, rel, title and type.</p>
</div>
<div class="paragraph">
<p><strong>Description of properties of the spatialDatasetObject property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date that applies to the spatial dataset. Format: yyyy-mm-dd</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description of the spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Link to the spatial dataset´s documentation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">links</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Links to this spatial dataset´s different representations. The links object SHALL include the properties href, rel and type. The value of the rel property SHALL be 'spatialdataset'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the organization that has produced the spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spatialDatasetId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique identifier for the spatial dataset. The identifier is used in other operations for indicating the spatial dataset in question</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spatialDatasetURI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URI that identifies uniquely the spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">title</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Title of the spatial dataset</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-25">
<h5 id="_errors_4"><a class="anchor" href="#_errors_4"></a>6.3.1.3. Errors</h5>
<table id="req_core_spatialdatasets-error" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Requirement 12</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>/req/core/spatialdatasets-error</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If an incorrect request is made to the server, it SHALL be reported as a response with a HTTP status code <code>400</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'InvalidParameterValue'. The locator property SHALL contain the name of the request parameter that caused the exception.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If spatial datasets are not found on the server, it SHALL be reported as a response with a HTTP status code <code>404</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Spatial datasets not found'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If there is an error in the server during the processing of the request, it shall be reported as a response with a HTTP status code <code>500</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Internal server error'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-29">
<h5 id="_response_schema_for_the_spatial_datasets"><a class="anchor" href="#_response_schema_for_the_spatial_datasets"></a>6.3.1.4. Response Schema for the Spatial Datasets</h5>
<div id="spatialdatasets_schema" class="listingblock data-line-2">
<div class="content">
<pre>schema:
  $ref: '#/components/schemas/SpatialDatasetsResponseObject'

SpatialDatasetsResponseObject:
  required:
  - links
  - spatialDatasets
  type: object
  properties:
    links:
      type: array
      items:
        $ref: '#/components/schemas/Link'
    spatialDatasets:
      type: array
      items:
        $ref: '#/components/schemas/SpatialDatasetsObject'

SpatialDatasetsObject:
  required:
  - date
  - description
  - links
  - organization
  - spatialDatasetId
  - spatialDatasetURI
  - title
  type: object
  properties:
    date:
      type: string
    description:
      type: string
    documentation:
      type: string
    links:
      type: array
        items:
        $ref: '#/components/schemas/Link'
    organization:
      type: string
    spatialDatasetId:
      type: integer
      format: int32
    spatialDatasetURI:
      type: string
    title:
      type: string</pre>
</div>
</div>
</div>
</div>
<div class="sect3 data-line-34">
<h4 id="_spatial_dataset_2"><a class="anchor" href="#_spatial_dataset_2"></a>6.3.2. Spatial Dataset</h4>
<div class="paragraph data-line-36">
<p>The HTTP GET operation at path <code>/spatialdatasets/{spatialdatasetid}</code> returns metadata on a specific spatial dataset available on the server.</p>
</div>
<div class="sect4 data-line-38">
<h5 id="_request_5"><a class="anchor" href="#_request_5"></a>6.3.2.1. Request</h5>
<table id="req_core_spatialdatasets-spatialdatasetid-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 13</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/spatialdatasets-spatialdatasetid-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the server implements the <em>data joining operations</em> operation set it SHALL support the HTTP GET operation at path <code>/spatialdatasets/{spatialdatasetid}</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-42">
<h5 id="_response_5"><a class="anchor" href="#_response_5"></a>6.3.2.2. Response</h5>
<table id="req_core_spatialdatasets-spatialdatasetid-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 14</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/spatialdatasets-spatialdatasetid-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation shall be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server implementations SHALL support the JSON output format. Any other output formats MAY also be supported.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response document is based on the <a href="#spatialdatasets_spatialdatasetid_schema">spatialdataset schema</a>.</p>
</div>
<div class="paragraph">
<p>The response document SHALL include the following <a href="#link_schema">links</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A link to this document (link rel: 'self')</p>
</li>
<li>
<p>Links to this document in other supported media types (link rel: 'alternate')</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The links SHALL contain the parameters href, rel, title and type.</p>
</div>
<div class="paragraph">
<p>The response property: spatialDataset SHALL contain metadata on the requested spatial dataset.</p>
</div>
<div class="paragraph">
<p><strong>Description of properties of the spatialDataset property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date that applies to the spatial dataset. Format: yyyy-mm-dd</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description of the spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Link to the spatial dataset´s documentation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Links to the different representations of this spatial dataset´s key fields. The links SHALL include the properties href, rel and type. The value of the rel property SHALL be 'keys'.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the organization that has produced the spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spatialDatasetId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique identifier for the spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spatialDatasetURI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URI that identifies uniquely the spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">title</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Title of the spatial dataset</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-46">
<h5 id="_errors_5"><a class="anchor" href="#_errors_5"></a>6.3.2.3. Errors</h5>
<table id="req_core_spatialdatasets-spatialdatasetid-error" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Requirement 15</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>/req/core/spatialdatasets-spatialdatasetid-error</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If an incorrect request is made to the server, it SHALL be reported as a response with a HTTP status code <code>400</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'InvalidParameterValue'. The locator property SHALL contain the name of the request parameter that caused the exception.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the spatial dataset is not found on the server, it SHALL be reported as a response with a HTTP status code <code>404</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Spatial dataset {spatialdatasetid} not found'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If there is an error in the server during the processing of the request, it SHALL be reported as a response with a HTTP status code <code>500</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Internal server error'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-50">
<h5 id="_response_schema_for_the_spatial_dataset"><a class="anchor" href="#_response_schema_for_the_spatial_dataset"></a>6.3.2.4. Response Schema for the Spatial Dataset</h5>
<div id="spatialdatasets_spatialdatasetid_schema" class="listingblock data-line-2">
<div class="content">
<pre>schema:
  $ref: '#/components/schemas/SpatialDatasetResponseObject'

SpatialDatasetResponseObject:
  required:
  - links
  type: object
  properties:
    links:
      type: array
      items:
        $ref: '#/components/schemas/Link'
    spatialDataset:
      $ref: '#/components/schemas/SpatialDatasetObject'

SpatialDatasetObject:
  required:
  - date
  - description
  - keys
  - organization
  - spatialDatasetId
  - spatialDatasetURI
  - title
  type: object
  properties:
    date:
      type: string
    description:
      type: string
    documentation:
      type: string
    keys:
      type: array
      items:
        $ref: '#/components/schemas/Link'
    organization:
      type: string
    spatialDatasetId:
      type: integer
      format: int32
    spatialDatasetURI:
      type: string
    title:
      type: string</pre>
</div>
</div>
</div>
</div>
<div class="sect3 data-line-55">
<h4 id="_spatial_dataset_key_fields"><a class="anchor" href="#_spatial_dataset_key_fields"></a>6.3.3. Spatial Dataset Key Fields</h4>
<div class="paragraph data-line-57">
<p>The HTTP GET operation at path <code>/spatialdatasets/{spatialdatasetid}/keys</code> returns a list of key fields that belong to a specific spatial dataset.</p>
</div>
<div class="sect4 data-line-59">
<h5 id="_request_6"><a class="anchor" href="#_request_6"></a>6.3.3.1. Request</h5>
<table id="req_core_spatialdatasets-spatialdatasetid-keys-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 16</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/spatialdatasets-spatialdatasetid-keys-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the server implements the <em>data joining operations</em> operation set, it SHALL support the HTTP GET operation at the path <code>/spatialdatasets/{spatialdatasetid}/keys</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-63">
<h5 id="_response_6"><a class="anchor" href="#_response_6"></a>6.3.3.2. Response</h5>
<table id="req_core_spatialdatasets-spatialdatasetid-keys-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 17</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/spatialdatasets-spatialdatasetid-keys-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server implementations SHALL support the JSON output format. Any other output formats MAY also be supported.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response document is based on the <a href="#spatialdatasets_spatialdatasetid_keys_schema">spatialdataset keys schema</a>.</p>
</div>
<div class="paragraph">
<p>The response document SHALL include the following <a href="#link_schema">links</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A link to this document (link rel: 'self')</p>
</li>
<li>
<p>Links to this document in other supported media types (link rel: 'alternate')</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The links SHALL contain the parameters href, rel, title and type.</p>
</div>
<div class="paragraph">
<p><strong>Description of properties in the response´s keys property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isDefault</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates if the key is used as a default key field in the data joins with this spatial dataset. Only one object in the response SHALL have the value true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keyName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the key field</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">links</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Links to the different representations of this key value. The links SHALL have the properties href, rel and type. The value of the rel property SHALL be 'keyname'</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-67">
<h5 id="_errors_6"><a class="anchor" href="#_errors_6"></a>6.3.3.3. Errors</h5>
<table id="req_core_spatialdatasets-spatialdatasetid-keys-error" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Requirement 18</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>/req/core/spatialdataset-spatialdatasetid-keys-error</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If an incorrect request is made to the server, it SHALL be reported as a response with a HTTP status code <code>400</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'InvalidParameterValue'. The locator property SHALL contain the name of the request parameter that caused the exception.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the spatial dataset keys are not found on the server, it SHALL be reported as a response with a HTTP status code <code>404</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Spatial dataset {spatialdatasetid} keys not found'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If there is an error in the server during the processing of the request, it SHALL be reported as a response with a HTTP status code <code>500</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Internal server error'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-71">
<h5 id="_response_schema_for_the_spatial_dataset_key_fields"><a class="anchor" href="#_response_schema_for_the_spatial_dataset_key_fields"></a>6.3.3.4. Response Schema for the Spatial Dataset Key Fields</h5>
<div id="spatialdatasets_spatialdatasetid_keys_schema" class="listingblock data-line-2">
<div class="content">
<pre>schema:
  $ref: '#/components/schemas/SpatialDatasetKeysResponseObject'

SpatialDatasetKeysResponseObject:
  required:
  - keys
  - links
  type: object
  properties:
    links:
      type: array
      items:
        $ref: '#/components/schemas/Link'
    keys:
      type: array
      items:
        $ref: '#/components/schemas/SpatialDatasetKeysObject'

SpatialDatasetKeysObject:
  required:
  - isDefault
  - keyName
  - links
  type: object
  properties:
    keyName:
      type: string
    isDefault:
      type: boolean
    links:
      type: array
      items:
        $ref: '#/components/schemas/Link'</pre>
</div>
</div>
</div>
</div>
<div class="sect3 data-line-75">
<h4 id="_spatial_dataset_key_field"><a class="anchor" href="#_spatial_dataset_key_field"></a>6.3.4. Spatial Dataset Key Field</h4>
<div class="paragraph data-line-77">
<p>The HTTP GET operation at path <code>/spatialdatasets/{spatialdatasetid}/keys/{keyname}</code> returns a list of key values from a specific key field of a specific spatial dataset.</p>
</div>
<div class="sect4 data-line-79">
<h5 id="_request_7"><a class="anchor" href="#_request_7"></a>6.3.4.1. Request</h5>
<table id="req_core_spatialdatasets-spatialdatasetid-keys-keyname-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 19</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/spatialdatasets-spatialdatasetid-keys-keyname-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the server implements the <em>data joining operations</em> operation set, it SHALL support the HTTP GET operation at the path <code>/spatialdatasets/{spatialdatasetid}/keys/{keyname}</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-83">
<h5 id="_response_7"><a class="anchor" href="#_response_7"></a>6.3.4.2. Response</h5>
<table id="req_core_spatialdatasets-spatialdatasetid-keys-keyname-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 20</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/spatialdatasets-spatialdatasetid-keys-keyname-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server implementations SHALL support the JSON output format. Any other output formats MAY also be supported.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response document is based on the <a href="#spatialdatasets_spatialdatasetid_keys_keyname_schema">spatialdataset key field schema</a>.</p>
</div>
<div class="paragraph">
<p>The response document SHALL include the following <a href="#link_schema">links</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A link to this document (link rel: 'self')</p>
</li>
<li>
<p>Links to this document in other supported media types (link rel: 'alternate')</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The links SHALL contain the parameters href, rel, title and type.</p>
</div>
<div class="paragraph">
<p><strong>Description of properties in the response´s keys property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spatial dataset´s key field´s key value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">links</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Links to the different representations of this key value. The links SHALL have the properties href, rel and type. The value of the rel property SHALL be 'key'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">title</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human-readable description of the key value</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-87">
<h5 id="_errors_7"><a class="anchor" href="#_errors_7"></a>6.3.4.3. Errors</h5>
<table id="req_core_spatialdatasets-spatialdatasetid-keys-keyname-error" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Requirement 21</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>/req/core/spatialdatasets-spatialdatasetid-keys-keyname-error</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If an incorrect request is made to the server, it SHALL be reported as a response with a HTTP status code <code>400</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'InvalidParameterValue'. The locator property SHALL contain the name of the request parameter that caused the exception.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the spatial dataset´s key field´s key values are not found on the server, it SHALL be reported as a response with a HTTP status code <code>404</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Spatial dataset {spatialdatasetid} key field {keyname} not found'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If there is an error in the server during the processing of the request, it SHALL be reported as a response with a HTTP status code <code>500</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Internal server error'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-91">
<h5 id="_response_schema_for_the_spatial_dataset_key_field"><a class="anchor" href="#_response_schema_for_the_spatial_dataset_key_field"></a>6.3.4.4. Response Schema for the Spatial Dataset Key Field</h5>
<div id="spatialdatasets_spatialdatasetid_keys_keyname_schema" class="listingblock data-line-2">
<div class="content">
<pre>schema:
  $ref: '#/components/schemas/SpatialDatasetKeysKeynameResponseObject'

SpatialDatasetKeysKeynameResponseObject:
  required:
  - keys
  - links
  type: object
  properties:
    links:
      type: array
      items:
        $ref: '#/components/schemas/Link'
    keys:
      type: array
      items:
        $ref: '#/components/schemas/SpatialDatasetKeysKeynameObject'

SpatialDatasetKeysKeynameObject:
  required:
  - key
  - links
  type: object
  properties:
    key:
      type: string
    links:
      type: array
      items:
        $ref: '#/components/schemas/Link'
    title:
      type: string</pre>
</div>
</div>
</div>
</div>
<div class="sect3 data-line-95">
<h4 id="_spatial_dataset_key_field_key"><a class="anchor" href="#_spatial_dataset_key_field_key"></a>6.3.5. Spatial Dataset Key Field Key</h4>
<div class="paragraph data-line-97">
<p>The HTTP GET operation at path <code>/spatialdatasets/{spatialdatasetid}/keys/{keyname}/{key}</code> returns a specific key value, from a specific key field from a specific spatial dataset.</p>
</div>
<div class="sect4 data-line-99">
<h5 id="_request_8"><a class="anchor" href="#_request_8"></a>6.3.5.1. Request</h5>
<table id="req_core_spatialdatasets-spatialdatasetid-keys-keyname-key-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 22</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/spatialdatasets-spatialdatasetid-keys-keyname-key-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the server implements the <em>data joining operations</em> operation set it SHALL support the HTTP GET operation at the path <code>/spatialdatasets/{spatialdatasetid}/keys/{keyname}/{key}</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-103">
<h5 id="_response_8"><a class="anchor" href="#_response_8"></a>6.3.5.2. Response</h5>
<table id="req_core_spatialdatasets-spatialdatasetid-keys-keyname-key-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 23</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/spatialdatasets-spatialdatasetid-keys-keyname-key-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server implementations SHALL support the JSON output format. Any other output formats MAY also be supported.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response document is based on the <a href="#spatialdatasets_spatialdatasetid_keys_keyname_key_schema">spatialdataset key field key schema</a>.</p>
</div>
<div class="paragraph">
<p>The response document SHALL include the following <a href="#link_schema">links</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A link to this document (link rel: 'self')</p>
</li>
<li>
<p>Links to this document in other supported media types (link rel: 'alternate')</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The links SHALL contain the parameters href, rel, title and type</p>
</div>
<div class="paragraph">
<p><strong>Description of properties of the key response property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spatial dataset´s key field´s key value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">title</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human-readable description of the key value</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-107">
<h5 id="_errors_8"><a class="anchor" href="#_errors_8"></a>6.3.5.3. Errors</h5>
<table id="req_core_spatialdatasets-spatialdatasetid-keys-keyname-key-error" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Requirement 24</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>/req/core/spatialdatasets-spatialdatasetid-keys-keyname-key-error</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If an incorrect request is made to the server, it SHALL be reported as a response with a HTTP status code <code>400</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'InvalidParameterValue'. The locator property SHALL contain the name of the request parameter that caused the exception.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the spatial dataset key value is not found on the server, it SHALL be reported as a response with a HTTP status code <code>404</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Spatial dataset {spatialdatasetid} key field {keyname} key {key} not found'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If there is an error in the server during the processing of the request, it SHALL be reported as a response with a HTTP status code <code>500</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Internal server error'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-111">
<h5 id="_response_schema_for_the_spatial_dataset_key_field_key"><a class="anchor" href="#_response_schema_for_the_spatial_dataset_key_field_key"></a>6.3.5.4. Response Schema for the Spatial Dataset Key Field Key</h5>
<div id="spatialdatasets_spatialdatasetid_keys_keyname_key_schema" class="listingblock data-line-2">
<div class="content">
<pre>schema:
  $ref: '#/components/schemas/SpatialDatasetKeysKeynameKeyResponseObject'

SpatialDatasetKeysKeynameKeyResponseObject:
  required:
  - key
  - links
  type: object
  properties:
    links:
      type: array
      items:
        $ref: '#/components/schemas/Link'
    key:
      $ref: '#/components/schemas/SpatialDatasetKeysKeynameKeyObject'

SpatialDatasetKeysKeynameKeyObject:
  required:
  - key
  type: object
  properties:
    key:
      type: string
    title:
      type: string</pre>
</div>
</div>
</div>
</div>
<div class="sect3 data-line-116">
<h4 id="_data_joining_from_a_csv_file_with_a_spatial_dataset"><a class="anchor" href="#_data_joining_from_a_csv_file_with_a_spatial_dataset"></a>6.3.6. Data Joining from a CSV File with a Spatial Dataset</h4>
<div class="paragraph data-line-118">
<p>The HTTP POST operation at path <code>/joindata/{spatialdatasetid}/csv</code> joins attribute data from a csv file with a spatial dataset that is available on the server. The join is executed by using shared key values in the two datasets.</p>
</div>
<div class="sect4 data-line-120">
<h5 id="_request_9"><a class="anchor" href="#_request_9"></a>6.3.6.1. Request</h5>
<table id="req_core_joindata-spatialdatasetid-csv-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 25</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/joindata-spatialdatasetid-csv-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the server implements the <em>data joining operations</em> operation set, it SHALL support the HTTP POST operation at path <code>/joindata/{spatialdatasetid}/csv</code>.</p>
</div>
<div class="paragraph">
<p>The csv file can either be uploaded to the server with the csvFile parameter or provided through URL link with the csvFileURL parameter.</p>
</div>
<div class="paragraph">
<p>The request SHALL contain the header:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Content-Type: multipart/form-data.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the csv file is provided by upload, it SHALL contain the header</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Content-Disposition: form-data; filename="[csv file´s name]"; name="csvFile"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the sld file is provided by upload, it SHALL contain the header:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Content-Disposition: form-data; filename="[sld file´s name]" name="sldFile";</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Request´s form data parameters:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type and values</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The csv file (uploaded file)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>a</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileURL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The csv file URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>a</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileKeyColumnNumber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of the key column in the csv file (counting starts from 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileAttributeColumnNumberList</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The numbers of the attribute columns in the csv file that will be joined with the spatial dataset (counting starts from 1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integers separated by commas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileDelimiter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The delimiter character used in the csv file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileHeaderRowNumber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The row number of csv file´s header row in the csv file (counting starts from 1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional, (omit, if header row is not available in the csv file)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileDataStartRowNumber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The row number where the data values start in the csv file. (counting starts from 1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>b</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputFormats</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of outputs that will be included to the response document</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String, (comma separated)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>c</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileDuplicateKeyHandlingMethod</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Method for handling duplicate key values in the csv file. Value is one of the following: <em>first</em>, <em>last</em>, <em>count</em>, <em>add</em>, <em>average</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>d</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sldFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The sld file for WMS output (uploaded file)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>e</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sldFileURL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL containing sld file that will be applied to WMS output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>e</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spatialDatasetKey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The key field of the spatial dataset that will be used in the join operation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>f</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>a</sup>  One of the parameters: csvFile or csvFileURL is mandatory to be used with the operation. The csvFile parameter can be used for uploading a csv file to the server. The csvFileURL parameter can be used for providing the csv file through URL link. If both parameters are provided in the query, the server SHALL send an exception with message 'DuplicateAttributeFileInput'.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>b</sup> Default value for the parameter is 2. If csvFileHeaderRowNumber parameter is missing, default value is 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>c</sup>  Comma separated list of the outputs that will be included to the response document. The supported output formats can be found from the API description document. If the parameter value is empty or missing, a default value 'geojson' is used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>d</sup>  Possible values are: <em>first</em>, <em>last</em>, <em>count</em>, <em>add</em>, <em>average</em>. The value <em>first</em> uses data values from the first row where the key is encountered, the value <em>last</em> takes the values from the last row where the key is encountered, the value <em>count</em> tells how many rows there were for the key in the attribute dataset, the value <em>add</em> adds the data values together from all rows where the key is encountered (only for numerical values), the value <em>average</em> calculates an average from all rows where the key is encountered (only for numerical values).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>e</sup>  Styling file can be provided either by uploading it by using the sldFile parameter or through URL link by using the sldFileURL parameter. If both parameters are provided in the query, the server SHALL send an exception with message 'DuplicateStylingFileInput'.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>f</sup> If spatialDatasetKey parameter is omitted, a default key field of the spatial dataset will be used in the join operation.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-124">
<h5 id="_response_9"><a class="anchor" href="#_response_9"></a>6.3.6.2. Response</h5>
<table id="req_core_joindata-spatialdatasetid-csv-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 26</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/joindata-spatialdatasetid-csv-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>201</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server implementations SHALL support the JSON output format. Any other output formats MAY also be supported.</p>
</div>
<div class="paragraph">
<p>The response document contains information on the execution of the data joining operation, including links to the created outputs for the joined data.</p>
</div>
<div class="paragraph">
<p>The TJS implementations SHALL support the GeoJSON output format for the joined data and MAY support any other output formats. Other recommended output formats to be supported are WFS and WMS.</p>
</div>
<div class="paragraph">
<p>The supported output formats SHALL be listed in the API description document.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response document is based on the <a href="#joindata_spatialdatasetid_csv_schema">data joining from a csv file with a spatial dataset schema</a>.</p>
</div>
<div class="paragraph">
<p>The response document SHALL include the following <a href="#link_schema">links</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a link to this document (link rel: 'self')</p>
</li>
<li>
<p>links to this document in other supported media types (link rel: 'alternate')</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Description of properties in the response´s join property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inputs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Join operation inputs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">joinId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique identifier for the join</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">joinInformation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information on the execution of the data join operation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Links to the created outputs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timestamp when the join has been executed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p><strong>Description of properties in the inputs property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">attributeDataset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name or URL of the joined csv file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spatialDataset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#link_schema">Link objects</a> that contain links to spatialdataset´s different representations. Properties href, rel and type are mandatory.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p><strong>Description of properties in the joinInformation property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">additionalAttributeKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of additional keys in the csv file that were not available in the spatial dataset keys</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">duplicateAttributeKeyHandlingMethod</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The method that was used for handling duplicate keys in csv file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">duplicateAttributeKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of duplicate keys in the csv file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchedSpatialDatasetKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of spatial dataset keys that were successfully matched with attribute data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numberOfAdditionalAttributeKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of additional attribute key values in the attribute dataset that were not available in the spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numberOfDuplicateAttributeKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of attribute keys that had duplicate entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numberOfMatchedSpatialDatasetKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of spatial dataset keys, to which attribute data was joined successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numberOfUnmatchedSpatialDatasetKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of spatial dataset keys, to which attribute data couldn´t be joined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unmatchedSpatialDatasetKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of spatial dataset keys, to which attribute data couldn´t be joined</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p><strong>Description of properties in the outputs property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the output format</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">layerName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the joined data layer (For WMS and WFS outputs)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">link</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Link to the output</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">styleName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the joined data layer style</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-128">
<h5 id="_errors_9"><a class="anchor" href="#_errors_9"></a>6.3.6.3. Errors</h5>
<table id="req_core_joindata-spatialdatasetid-csv-error" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Requirement 27</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>/req/core/joindata-spatialdatasetid-csv-error</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If an incorrect request is made to the server, it SHALL be reported as a response with a HTTP status code <code>400</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The possible values for the message property are 'InvalidParameterValue', 'MissingParameterValue', 'DuplicateAttributeFileInput' and 'DuplicateStylingFileInput'. The locator property SHALL contain the name of the request parameter that caused the exception.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the spatialdataset is not found on the server, it SHALL be reported as a response with a HTTP status code <code>404</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Spatial dataset {spatialdatasetid} not found'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If there is an error in the server during the processing of the request, it shall be reported as a response with a HTTP status code <code>500</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Internal server error'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-132">
<h5 id="_response_schema_for_the_data_joining_from_a_csv_file_with_a_spatial_dataset"><a class="anchor" href="#_response_schema_for_the_data_joining_from_a_csv_file_with_a_spatial_dataset"></a>6.3.6.4. Response schema for the Data Joining from a CSV File with a Spatial Dataset</h5>
<div id="joindata_spatialdatasetid_csv_schema" class="listingblock data-line-2">
<div class="content">
<pre>schema:
  $ref: '#/components/schemas/JoinDataResponseObject'

JoinDataResponseObject:
  required:
  - join
  - links
  type: object
  properties:
    links:
      type: array
      items:
        $ref: '#/components/schemas/Link'
    join:
      $ref: '#/components/schemas/JoinDataObject'

JoinDataObject:
  required:
  - inputs
  - joinId
  - outputs
  - timestamp
  type: object
  properties:
    joinId:
      type: integer
      format: int32
    timestamp:
      type: string
      format: date-time
    inputs:
      $ref: '#/components/schemas/JoinInputsObject'
    outputs:
      type: array
      items:
        $ref: '#/components/schemas/OutputObject'
    joinInformation:
      $ref: '#/components/schemas/JoinInformationObject'

JoinInputsObject:
  required:
  - attributeDataset
  - spatialDataset
  type: object
  properties:
    attributeDataset:
      type: string
    spatialDataset:
      type: array
      items:
        $ref: '#/components/schemas/Link'

OutputObject:
  required:
  - format
  - link
  type: object
  properties:
    format:
      type: string
    layerName:
      type: string
    link:
      type: string
    styleName:
      type: string

JoinInformationObject:
  type: object
  properties:
    numberOfMatchedSpatialDatasetKeys:
      type: integer
      format: int32
    numberOfUnmatchedSpatialDatasetKeys:
      type: integer
      format: int32
    numberOfAdditionalAttributeKeys:
      type: integer
      format: int32
    matchedSpatialDatasetKeys:
      type: array
      items:
        type: string
    unmatchedSpatialDatasetKeys:
      type: array
      items:
        type: string
    additionalAttributeKeys:
      type: array
      items:
        type: string
    duplicateAttributeKeys:
      type: array
      items:
        type: string
    duplicateAttributeKeyHandlingMethod:
      type: string
    numberOfDuplicateAttributeKeys:
      type: integer
      format: int32</pre>
</div>
</div>
</div>
</div>
<div class="sect3 data-line-136">
<h4 id="_joins"><a class="anchor" href="#_joins"></a>6.3.7. Joins</h4>
<div class="paragraph data-line-138">
<p>The HTTP GET operation at path <code>/joins</code> returns list of all joins that are available on the server.</p>
</div>
<div class="sect4 data-line-140">
<h5 id="_request_10"><a class="anchor" href="#_request_10"></a>6.3.7.1. Request</h5>
<table id="req_core_joins-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 28</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/joins-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the server implements the <em>data joining operations</em> operation set it SHALL support the HTTP GET operation at the path <code>/joins</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-144">
<h5 id="_response_10"><a class="anchor" href="#_response_10"></a>6.3.7.2. Response</h5>
<table id="req_core_joins-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 29</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/joins-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation shall be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server implementations SHALL support the JSON output format. Any other output formats MAY also be supported.</p>
</div>
<div class="paragraph">
<p>The server SHALL return metadata on all joins that are available on the server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response document is based on the <a href="#joins_schema">joins schema</a>.</p>
</div>
<div class="paragraph">
<p>The response document SHALL include the following <a href="#link_schema">links</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a link to this document (link rel: 'self')</p>
</li>
<li>
<p>links to this document in other supported media types (link rel: 'alternate')</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Description of elements in joins property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">joinId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique identifier for the join. The identifier is used in other operations for indicating the join in question</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">joinedLayerName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the created layer for the join</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">joinTimestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timestamp when the join has been executed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">links</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Links to the different representations of the join. The links SHALL have the properties href, rel and type. The value of the rel property SHALL be 'join'.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-148">
<h5 id="_errors_10"><a class="anchor" href="#_errors_10"></a>6.3.7.3. Errors</h5>
<table id="req_core_joins-error" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Requirement 30</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>/req/core/joins-error</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If joins are not found on the server, it SHALL be reported as a response with a HTTP status code <code>404</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Joins not found'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If there is an error in the server during the processing of the request, it SHALL be reported as a response with a HTTP status code <code>500</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Internal server error'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-152">
<h5 id="_response_schema_for_the_joins"><a class="anchor" href="#_response_schema_for_the_joins"></a>6.3.7.4. Response schema for the Joins</h5>
<div id="joins_schema" class="listingblock data-line-2">
<div class="content">
<pre>schema:
  $ref: '#/components/schemas/JoinsResponseObject'

JoinsResponseObject:
  required:
  - joins
  - links
  type: object
  properties:
    links:
      type: array
      items:
        $ref: '#/components/schemas/Link'
    joins:
      type: array
      items:
        $ref: '#/components/schemas/JoinsObject'

JoinsObject:
  required:
  - joinId
  - joinTimestamp
  - links
  type: object
  properties:
    joinId:
      type: integer
      format: int32
    joinedLayerName:
      type: string
    joinTimestamp:
      type: string
      format: date-time
    links:
      type: array
      items:
        $ref: '#/components/schemas/Link'</pre>
</div>
</div>
</div>
</div>
<div class="sect3 data-line-156">
<h4 id="_join"><a class="anchor" href="#_join"></a>6.3.8. Join</h4>
<div class="paragraph data-line-158">
<p>The HTTP GET operation at path <code>/joins/{joinid}</code> returns metadata on a specific join that is available in the server.</p>
</div>
<div class="sect4 data-line-160">
<h5 id="_request_11"><a class="anchor" href="#_request_11"></a>6.3.8.1. Request</h5>
<table id="req_core_joins-joinid-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 31</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/joins-joinid-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the server implements the <em>data joining operations</em> operation set it SHALL support the HTTP GET operation at the path <code>/joins/{joinid}</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-164">
<h5 id="_response_11"><a class="anchor" href="#_response_11"></a>6.3.8.2. Response</h5>
<table id="req_core_joins-joinid-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 32</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/joins-joinid-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server implementations SHALL support the JSON output format. Any other output formats MAY also be supported.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response document is based on the <a href="#joins_joinid_schema">join schema</a>.</p>
</div>
<div class="paragraph">
<p>The response document SHALL include the following <a href="#link_schema">links</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a link to this document (link rel: 'self')</p>
</li>
<li>
<p>links to this document in other supported media types (link rel: 'alternate')</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Description of properties in the response´s join property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inputs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Join operation inputs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">joinId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique identifier for the join</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">joinInformation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information on the execution of the data join operation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Links to the created outputs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timestamp when the join has been executed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p><strong>Description of properties in the inputs property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">attributeDataset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name or URL of the joined csv file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spatialDataset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#link_schema">Link objects</a> that contain links to spatialdataset´s different representations. Properties href, rel and type are mandatory.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p><strong>Description of properties in the joinInformation property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">additionalAttributeKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of additional keys in the csv file that were not available in the spatial dataset keys</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">duplicateAttributeKeyHandlingMethod</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The method that was used for handling duplicate keys in csv file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">duplicateAttributeKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of duplicate keys in the csv file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchedSpatialDatasetKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of spatial dataset keys that were successfully matched with attribute data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numberOfAdditionalAttributeKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of additional attribute key values in the attribute dataset that were not available in the spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numberOfDuplicateAttributeKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of attribute keys that had duplicate entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numberOfMatchedSpatialDatasetKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of spatial dataset keys, to which attribute data was joined successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numberOfUnmatchedSpatialDatasetKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of spatial dataset keys, to which attribute data couldn´t be joined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unmatchedSpatialDatasetKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of spatial dataset keys, to which attribute data couldn´t be joined</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p><strong>Description of properties in the outputs property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the output format</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">layerName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the joined data layer (For WMS and WFS outputs)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">link</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">link	Link to the output</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">styleName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the joined data layer style</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-168">
<h5 id="_errors_11"><a class="anchor" href="#_errors_11"></a>6.3.8.3. Errors</h5>
<table id="req_core_joins-joinid-error" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Requirement 33</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>/req/core/joins-joinid-error</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If spatial datasets are not found on the server, it SHALL be reported as a response with a HTTP status code <code>404</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Join {joinid} not found'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If there is an error in the server during the processing of the request, it SHALL be reported as a response with a HTTP status code <code>500</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Internal server error'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-172">
<h5 id="_response_schema_for_the_join"><a class="anchor" href="#_response_schema_for_the_join"></a>6.3.8.4. Response schema for the Join</h5>
<div id="joins_joinid_schema" class="listingblock data-line-2">
<div class="content">
<pre>schema:
  $ref: '#/components/schemas/JoinResponseObject'


JoinResponseObject:
  required:
  - join
  - links
  type: object
  properties:
    links:
      type: array
      items:
        $ref: '#/components/schemas/Link'
    join:
      $ref: '#/components/schemas/JoinDataObject'

JoinDataObject:
  required:
  - inputs
  - joinId
  - outputs
  - timestamp
  type: object
  properties:
    joinId:
      type: integer
      format: int32
    timestamp:
      type: string
      format: date-time
    inputs:
      $ref: '#/components/schemas/JoinInputsObject'
    outputs:
      type: array
      items:
        $ref: '#/components/schemas/OutputObject'
    joinInformation:
      $ref: '#/components/schemas/JoinInformationObject'

JoinInputsObject:
  required:
  - attributeDataset
  - spatialDataset
  type: object
  properties:
    attributeDataset:
      type: string
    spatialDataset:
      type: array
      items:
        $ref: '#/components/schemas/Link'

OutputObject:
  required:
  - format
  - link
  type: object
  properties:
    format:
      type: string
    layerName:
      type: string
    link:
      type: string
    styleName:
      type: string

JoinInformationObject:
  type: object
  properties:
    numberOfMatchedSpatialDatasetKeys:
      type: integer
      format: int32
    numberOfUnmatchedSpatialDatasetKeys:
      type: integer
      format: int32
    numberOfAdditionalAttributeKeys:
      type: integer
      format: int32
    matchedSpatialDatasetKeys:
      type: array
      items:
        type: string
    unmatchedSpatialDatasetKeys:
      type: array
      items:
        type: string
    additionalAttributeKeys:
      type: array
      items:
        type: string
    duplicateAttributeKeys:
      type: array
      items:
        type: string
    duplicateAttributeKeyHandlingMethod:
      type: string
    numberOfDuplicateAttributeKeys:
      type: integer
      format: int32</pre>
</div>
</div>
</div>
</div>
<div class="sect3 data-line-176">
<h4 id="_join_updating_with_csv_file_data"><a class="anchor" href="#_join_updating_with_csv_file_data"></a>6.3.9. Join Updating with CSV File Data</h4>
<div class="paragraph data-line-178">
<p>The HTTP POST operation at path <code>/joins/{joinid}/csv</code> updates fully the specific join with a data from a csv file.</p>
</div>
<div class="sect4 data-line-180">
<h5 id="_request_12"><a class="anchor" href="#_request_12"></a>6.3.9.1. Request</h5>
<table id="req_core_joins-joinid-csv-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 34</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/joins-joinid-csv-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the server implements the <em>data joining operations</em> operation set it MAY support the HTTP POST operation at the path <code>/joins/{joinid}/csv</code>.</p>
</div>
<div class="paragraph">
<p>The csv file can either be uploaded to the server with the csvFile parameter or provided through URL link with the csvFileURL parameter.</p>
</div>
<div class="paragraph">
<p>The request SHALL contain the header:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Content-Type: multipart/form-data.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If csv file is provided by upload, it SHALL contain the header</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Content-Disposition: form-data; filename="[csv file´s name]"; name="csvFile"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If sld file is provided by upload, it SHALL contain the header:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Content-Disposition: form-data; filename="[sld file´s name]" name="sldFile";</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Request´s form data parameters:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type and values</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The csv file (uploaded file)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>a</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileURL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The csv file URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>a</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileKeyColumnNumber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of the key column in the csv file (counting starts from 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileAttributeColumnNumberList</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The numbers of the attribute columns in the csv file that will be joined with the spatial dataset (counting starts from 1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integers separated by commas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileDelimiter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The delimiter character used in the csv file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileHeaderRowNumber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The row number of csv file´s header row in the csv file (counting starts from 1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional, (omit, if header row is not available in the csv file)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileDataStartRowNumber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The row number where the data values start in the csv file (counting starts from 1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>b</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputFormats</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of outputs that will be included to the response document</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String, (comma separated)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>c</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileDuplicateKeyHandlingMethod</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Method for handling duplicate key values in the csv file. Value is one of the following: <em>first</em>, <em>last</em>, <em>count</em>, <em>add</em>, <em>average</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>d</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sldFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The sld file for WMS output (uploaded file)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>e</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sldFileURL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL containing sld file that will be applied to WMS output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>e</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spatialDatasetKey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The key field of the spatial dataset that will be used in the join operation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>f</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>a</sup>  One of the parameters: csvFile or csvFileURL is mandatory to be used with the operation. The csvFile parameter can be used for uploading a csv file to the server. The csvFileURL parameter can be used for providing the csv file through URL link. If both parameters are provided in the query, the server SHALL send an exception with message 'DuplicateAttributeFileInput'.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>b</sup> Default value for the parameter is 2. If csvFileHeaderRowNumber parameter is missing, default value is 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>c</sup>  Comma separated list of the outputs that will be included to the response document. The supported output formats can be found from the API description document. If the parameter value is empty or missing, a default value 'geojson' is used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>d</sup>  Possible values are: <em>first</em>, <em>last</em>, <em>count</em>, <em>add</em>, <em>average</em>. The value <em>first</em> uses data values from the first row where the key is encountered, the value <em>last</em> takes the values from the last row where the key is encountered, the value <em>count</em> tells how many rows there were for the key in the attribute dataset, the value <em>add</em> adds the data values together from all rows where the key is encountered (only for numerical values), the value <em>average</em> calculates an average from all rows where the key is encountered (only for numerical values).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>e</sup>  Styling file can be provided either by uploading it by using the sldFile parameter or through URL link by using the sldFileURL parameter. If both parameters are provided in the query, the server SHALL send an exception with message 'DuplicateStylingFileInput'.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>f</sup> If spatialDatasetKey parameter is omitted, a default key field of the spatial dataset will be used in the join operation.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-184">
<h5 id="_response_12"><a class="anchor" href="#_response_12"></a>6.3.9.2. Response</h5>
<table id="req_core_joins-joinid-csv-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 35</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/joins-joinid-csv-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server implementations SHALL support the JSON output format. Any other output formats MAY also be supported.</p>
</div>
<div class="paragraph">
<p>The response document contains information on the execution of the data joining operation, including links to the created outputs for the joined data.</p>
</div>
<div class="paragraph">
<p>The TJS implementations SHALL support the GeoJSON output format for the joined data and MAY support any other output formats. Other recommended output formats to be supported are WFS and WMS.</p>
</div>
<div class="paragraph">
<p>The supported output formats SHALL be listed in the API description document.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The response document is based on the <a href="#joins_joinid_csv_schema">join updating with csv file data schema</a>.</p>
</div>
<div class="paragraph">
<p>The response document SHALL include the following <a href="#link_schema">links</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a link to this document (link rel: 'self')</p>
</li>
<li>
<p>links to this document in other supported media types (link rel: 'alternate')</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Description of properties in the response´s join property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inputs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Join operation inputs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">joinId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique identifier for the join</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">joinInformation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information on the execution of the data join operation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Links to the created outputs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timestamp when the join has been executed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p><strong>Description of properties in the inputs property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">attributeDataset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name or URL of the joined csv file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spatialDataset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#link_schema">Link objects</a> that contain links to spatialdataset´s different representations. Properties href, rel and type are mandatory.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p><strong>Description of properties in the joinInformation property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">additionalAttributeKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of additional keys in the csv file that were not available in the spatial dataset keys</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">duplicateAttributeKeyHandlingMethod</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The method that was used for handling duplicate keys in csv file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">duplicateAttributeKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of duplicate keys in the csv file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchedSpatialDatasetKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of spatial dataset keys that were successfully matched with attribute data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numberOfAdditionalAttributeKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of additional attribute key values in the attribute dataset that were not available in the spatial dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numberOfDuplicateAttributeKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of attribute keys that had duplicate entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numberOfMatchedSpatialDatasetKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of spatial dataset keys, to which attribute data was joined successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numberOfUnmatchedSpatialDatasetKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of spatial dataset keys, to which attribute data couldn´t be joined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unmatchedSpatialDatasetKeys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of spatial dataset keys, to which attribute data couldn´t be joined</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p><strong>Description of properties in the outputs property:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the output format</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">layerName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the joined data layer (For WMS and WFS outputs)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">link</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">link	Link to the output</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">styleName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the joined data layer style</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-188">
<h5 id="_errors_12"><a class="anchor" href="#_errors_12"></a>6.3.9.3. Errors</h5>
<table id="req_core_joins-joinid-csv-error" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Requirement 36</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>/req/core/joins-joinid-csv-error</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If an incorrect request is made to the server, it SHALL be reported as a response with a HTTP status code <code>400</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The possible values for the message property are 'InvalidParameterValue', 'MissingParameterValue', 'DuplicateAttributeFileInput' and 'DuplicateStylingFileInput'. The locator property SHALL contain the name of the request parameter that caused the exception.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the join is not found on the server, it SHALL be reported as a response with a HTTP status code <code>404</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Join {joinid} not found'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If there is an error in the server during the processing of the request, it shall be reported as a response with a HTTP status code <code>500</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Internal server error'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-192">
<h5 id="_response_schema_for_the_join_updating_with_csv_file_data"><a class="anchor" href="#_response_schema_for_the_join_updating_with_csv_file_data"></a>6.3.9.4. Response schema for the Join Updating with CSV File Data</h5>
<div id="joins_joinid_csv_schema" class="listingblock data-line-2">
<div class="content">
<pre>schema:
  $ref: '#/components/schemas/JoinDataResponseObject'

JoinDataResponseObject:
  required:
  - join
  - links
  type: object
  properties:
    links:
      type: array
      items:
        $ref: '#/components/schemas/Link'
    join:
      $ref: '#/components/schemas/JoinDataObject'

JoinDataObject:
  required:
  - inputs
  - joinId
  - outputs
  - timestamp
  type: object
  properties:
    joinId:
      type: integer
      format: int32
    timestamp:
      type: string
      format: date-time
    inputs:
      $ref: '#/components/schemas/JoinInputsObject'
    outputs:
      type: array
      items:
        $ref: '#/components/schemas/OutputObject'
    joinInformation:
      $ref: '#/components/schemas/JoinInformationObject'

JoinInputsObject:
  required:
  - attributeDataset
  - spatialDataset
  type: object
  properties:
    attributeDataset:
      type: string
    spatialDataset:
      type: array
      items:
        $ref: '#/components/schemas/Link'

OutputObject:
  required:
  - format
  - link
  type: object
  properties:
    format:
      type: string
    layerName:
      type: string
    link:
      type: string
    styleName:
      type: string

JoinInformationObject:
  type: object
  properties:
    numberOfMatchedSpatialDatasetKeys:
      type: integer
      format: int32
    numberOfUnmatchedSpatialDatasetKeys:
      type: integer
      format: int32
    numberOfAdditionalAttributeKeys:
      type: integer
      format: int32
    matchedSpatialDatasetKeys:
      type: array
      items:
        type: string
    unmatchedSpatialDatasetKeys:
      type: array
      items:
        type: string
    additionalAttributeKeys:
      type: array
      items:
        type: string
    duplicateAttributeKeys:
      type: array
      items:
        type: string
    duplicateAttributeKeyHandlingMethod:
      type: string
    numberOfDuplicateAttributeKeys:
      type: integer
      format: int32</pre>
</div>
</div>
</div>
</div>
<div class="sect3 data-line-196">
<h4 id="_join_deleting"><a class="anchor" href="#_join_deleting"></a>6.3.10. Join Deleting</h4>
<div class="paragraph data-line-198">
<p>The HTTP DELETE operation at path <code>/joins/{joinid}</code> deletes the specific join from the server.</p>
</div>
<div class="sect4 data-line-200">
<h5 id="_request_13"><a class="anchor" href="#_request_13"></a>6.3.10.1. Request</h5>
<table id="req_core_joins-joinid-delete-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 37</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/joins-joinid-delete-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the server implements the <em>data joining operations</em> operation set, it MAY support the HTTP DELETE operation at the path <code>/joins/{joinid}</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-204">
<h5 id="_response_13"><a class="anchor" href="#_response_13"></a>6.3.10.2. Response</h5>
<table id="req_core_joins-joinid-delete-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 38</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/joins-joinid-delete-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation shall be reported as a response with a HTTP status code <code>204</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL be empty.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-208">
<h5 id="_errors_13"><a class="anchor" href="#_errors_13"></a>6.3.10.3. Errors</h5>
<table id="req_core_joins-joinid-delete-error" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Requirement 39</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>/req/core/joins-joinid-delete-error</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the join is not found on the server, it shall be reported as a response with a HTTP status code <code>404</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Join {joinid} not found'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If there is an error in the server during the processing of the request, it shall be reported as a response with a HTTP status code <code>500</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Internal server error'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-212">
<h5 id="_response_schema_for_the_join_deleting"><a class="anchor" href="#_response_schema_for_the_join_deleting"></a>6.3.10.4. Response schema for the Join Deleting</h5>
<div class="paragraph data-line-21">
<p>The response of the operation is empty.</p>
</div>
<div class="paragraph data-line-1">
<p>﻿<a id="core-file-joining-operations"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2 data-line-3">
<h3 id="_operation_set_file_joining_operations"><a class="anchor" href="#_operation_set_file_joining_operations"></a>6.4. Operation Set: File Joining Operations</h3>
<div class="paragraph data-line-5">
<p>The operation set <em>file joining operations</em> contains an operation for joining attribute data from an inputted csv file with an inputted GeoJSON file. The response of the operation is the GeoJSON file that contains also the joined attributes.</p>
</div>
<div class="sect3 data-line-7">
<h4 id="_data_joining_from_a_csv_file_with_a_geojson_file"><a class="anchor" href="#_data_joining_from_a_csv_file_with_a_geojson_file"></a>6.4.1. Data Joining from a CSV File with a GeoJSON file</h4>
<div class="paragraph data-line-9">
<p>The HTTP POST operation at path <code>/joinfiles/geojson/csv</code> joins a data from a csv file with a GeoJSON file.</p>
</div>
<div class="sect4 data-line-11">
<h5 id="_request_14"><a class="anchor" href="#_request_14"></a>6.4.1.1. Request</h5>
<table id="req_core_joinfiles-geojson-csv-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 40</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/joinfiles-geojson-csv-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If the server supports the <em>file joining operations</em> operation set it SHALL support the HTTP POST operation at the path <code>/joinfiles/geojson/csv</code>.</p>
</div>
<div class="paragraph">
<p>The GeoJSON file can either be uploaded to the server with the geojsonFile parameter or provided through URL link with the geojsonFileURL parameter.</p>
</div>
<div class="paragraph">
<p>The csv file can either be uploaded to the server with the csvFile parameter or provided through URL link with the csvFileURL parameter.</p>
</div>
<div class="paragraph">
<p>The request SHALL contain the header:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Content-Type: multipart/form-data</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If geojson file is provided by upload, it SHALL contain the header:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Content-Disposition: form-data; filename="[geojson file´s name]"; name="geojsonFile"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If csv file is provided by upload, it SHALL contain the header:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Content-Disposition: form-data; filename="[csv file´s name]"; name="csvFile"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Request´s form data parameters:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type and values</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geojsonFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The GeoJSON file (uploaded file)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>a</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geojsonFileURL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A URL link to the GeoJSON file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL type, not empty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>a</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geojsonFileKeyFieldPath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the key field name in the GeoJSON file that contains the key values. Example: 'features.properties.kunta'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The csv file (uploaded file)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>b</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileURL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A URL link to the csv file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL type, not empty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>b</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileKeyColumnNumber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The column number in the csv file that contains key values. (Counting starts from 1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileAttributeColumnNumberList</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The numbers of the columns in the csv file that will be joined with a GeoJSON file. When multiple columns are joined the values shall be comma-separated. (Counting starts from 1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer (multiple values are comma-separated)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileDelimiter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The delimiter character used in the csv file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileHeaderRowNumber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TThe row number of csv file´s header row in the csv file (Counting starts from 1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional, (omit, if header row is not available in the csv file)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileDataStartRowNumber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The row number where the data values start in the csv file (Counting starts from 1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>c</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">csvFileDuplicateKeyHandlingMethod</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Method for handling duplicate key values in the csv file. Value is one of the following: <em>first</em>, <em>last</em>, <em>count</em>, <em>add</em>, <em>average</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional<sup>d</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>a</sup>  One of the parameters: geojsonFile or geojsonFileURL is mandatory to be used with the operation. The geojsonFile parameter can be used for uploading a geojson file to the server. The geojsonFileURL parameter can be used for providing the geojson file through URL link. If both parameters are provided in the query, the server SHALL send an exception with message 'DuplicateGeojsonFileInput'.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>b</sup>  One of the parameters: csvFile or csvFileURL is mandatory to be used with the operation. The csvFile parameter can be used for uploading a csv file to the server. The csvFileURL parameter can be used for providing the csv file through URL link. If both parameters are provided in the query, the server SHALL send an exception with message 'DuplicateAttributeFileInput'.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>c</sup> Default value for the parameter is 2. If csvFileHeaderRowNumber parameter is missing, default value is 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><sup>d</sup>  Possible values are: <em>first</em>, <em>last</em>, <em>count</em>, <em>add</em>, <em>average</em>. The value <em>first</em> uses data values from the first row where the key is encountered, the value <em>last</em> takes the values from the last row where the key is encountered, the value <em>count</em> tells how many rows there were for the key in the attribute dataset, the value <em>add</em> adds the data values together from all rows where the key is encountered (only for numerical values), the value <em>average</em> calculates an average from all rows where the key is encountered (only for numerical values).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><br></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-15">
<h5 id="_response_14"><a class="anchor" href="#_response_14"></a>6.4.1.2. Response</h5>
<table id="req_core_joinfiles-geojson-csv-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 41</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/joinfiles-geojson-csv-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p>
</div>
<div class="paragraph">
<p>The server SHALL return the GeoJSON file that includes the joined fields from the csv file.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-19">
<h5 id="_errors_14"><a class="anchor" href="#_errors_14"></a>6.4.1.3. Errors</h5>
<table id="req_core_joinfiles-geojson-csv-error" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><strong>Requirement 42</strong></th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><strong>/req/core/joinfiles-geojson-csv-error</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If an incorrect request is made to the server, it SHALL be reported as a response with a HTTP status code <code>400</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The Possible values for the message property are 'InvalidParameterValue', 'MissingParameterValue', 'DuplicateGeojsonFileInput' and  'DuplicateAttributeFileInput'</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>If there is an error in the server during the processing of the request, it shall be reported as a response with a HTTP status code <code>500</code>.</p>
</div>
<div class="paragraph">
<p>The response body SHALL contain an exception report message in the JSON format that is based on <a href="#exception_schema">exception message schema</a>. The value of the message property SHALL be 'Internal server error'.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4 data-line-23">
<h5 id="_response_schema_for_the_spatial_datasets_2"><a class="anchor" href="#_response_schema_for_the_spatial_datasets_2"></a>6.4.1.4. Response Schema for the Spatial Datasets</h5>
<div class="paragraph data-line-25">
<p>The response of the operation SHALL be the GeoJSON file that contains also the joined attributes from the csv file.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1 data-line-2">
<h2 id="mediatypes"><a class="anchor" href="#mediatypes"></a>7. Media Types for any data encoding(s)</h2>
<div class="sectionbody">
<div class="sect2 data-line-4">
<h3 id="_operation_sets_discovery_operations_and_data_joining_operations"><a class="anchor" href="#_operation_sets_discovery_operations_and_data_joining_operations"></a>7.1. Operation sets: discovery operations and data joining operations</h3>
<table id="req_core_discovery-operations-and-data-joining-operations-outputs" class="tableblock frame-all grid-all data-line-8" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 43</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/discovery-operations-and-data-joining-operations-outputs</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server implementations SHALL support the JSON output format for all operations in the operation sets: <em>discovery operations</em> and <em>data joining operations</em>. Any other output formats MAY also be supported.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2 data-line-13">
<h3 id="_outputs_for_the_joined_data_in_operation_set_data_joining_operations"><a class="anchor" href="#_outputs_for_the_joined_data_in_operation_set_data_joining_operations"></a>7.2. Outputs for the joined data in operation set: data joining operations</h3>
<table id="req_core_data-joining-operations-joined-data-outputs" class="tableblock frame-all grid-all data-line-17" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 44</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/data-joining-operations-joined-data-outputs</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server implementations SHALL support the GeoJSON format for the joined data in the operation set <em>data joining operations</em>. Any other formats for the joined data MAY also be supported. Other recommended output formats to be supported are WFS and WMS.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2 data-line-22">
<h3 id="_operation_set_file_joining_operations_2"><a class="anchor" href="#_operation_set_file_joining_operations_2"></a>7.3. Operation set: file joining operations</h3>
<table id="req_core_file-joining-operations-output" class="tableblock frame-all grid-all data-line-26" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 45</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/file-joining-operations-output</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The server implementations SHALL support the GeoJSON output format for the operation defined in the <em>file joining operations</em> operation set.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1 data-line-4">
<h2 id="ats"><a class="anchor" href="#ats"></a>Annex A: Abstract Test Suite (Normative)</h2>
<div class="sectionbody">
<div class="sect2 data-line-7">
<h3 id="ats_core"><a class="anchor" href="#ats_core"></a>A.1. Conformance Class "Core"</h3>
<table class="tableblock frame-all grid-all data-line-9" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Conformance Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/tjs/2.0/conf/core" class="bare">http://www.opengis.net/spec/tjs/2.0/conf/core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements class</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rc_core">Requirements Class "Core"</a></p></td>
</tr>
</tbody>
</table>
<div class="sect3 data-line-0">
<h4 id="_landing_page_root"><a class="anchor" href="#_landing_page_root"></a>A.1.1. Landing Page {root}/</h4>
<table id="ats_core_root-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/root-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the landing page can be retrieved from the expected location.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_root-op">/req/core/root-op</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Issue an HTTP GET request on URL <code>{root}/</code>.</p>
</li>
<li>
<p>Validate that the document was returned with a status code <code>200</code>.</p>
</li>
<li>
<p>Validate the contents of the returned document using test <a href="#ats_core_root-success">/ats/core/root-success</a></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<table id="ats_core_root-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/root-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that a landing page complies with the required structure and contents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_root-success">/req/core/root-success</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate the landing page for all supported media types using the <a href="#schema_landingPage">landing page schema</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validate that the landing page includes a 'service-desc' and/or 'service-doc' link to an API Definition</p>
</li>
<li>
<p>Validate that the landing page includes a 'conformance' link to the conformance class declaration</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For servers that implement the <em>data joining operations</em> operation set:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validate that the landing page includes a 'spatialdatasets' link to the spatialdatasets metadata</p>
</li>
<li>
<p>Validate that the landing page includes a "joins' link to the joins</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3 data-line-0">
<h4 id="_api_definiton_path_rootapi"><a class="anchor" href="#_api_definiton_path_rootapi"></a>A.1.2. API Definiton path {root}/api</h4>
<table id="ats_core_api-definition-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 3</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/api-definition-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the API definition document can be retrieved from the expected location.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_api-definition-op">/req/core/api-definition-op</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Issue a HTTP GET request to the URL <code>{root}/api</code>.</p>
</li>
<li>
<p>Validate that a document was returned with a status code <code>200</code>.</p>
</li>
<li>
<p>Validate the contents of the returned document using test <a href="#ats_core_api-definition-success">/ats/core/api-definition-success</a></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<table id="ats_core_api-definition-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 4</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/api-definition-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the API definition complies with the required structure and contents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_api-definition-success">/req/core/api-definition-success</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate the API definition document against an appropriate schema document.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3 data-line-0">
<h4 id="_conformance_rootconformance"><a class="anchor" href="#_conformance_rootconformance"></a>A.1.3. Conformance {root}/conformance</h4>
<table id="ats_core_conformance-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 5</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/conformance-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that a Conformance declaration can be retrieved from the expected location.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_conformance-op">/req/core/conformance-op</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Issue an HTTP GET request to the URL <code>{root}/conformance</code>.</p>
</li>
<li>
<p>Validate that a document was returned with a status code <code>200</code>.</p>
</li>
<li>
<p>Validate the contents of the returned document using test <a href="#ats_core_conformance-success">/ats/core/conformance-success</a></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<table id="ats_core_conformance-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 6</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/conformance-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the Conformance Declaration response complies with the required structure and contents</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_conformance-success">/req/core/conformance-success</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Validate the response document against <a href="#conformance_schema">conformance schema</a>.</p>
</li>
<li>
<p>Validate that the document includes the conformance class 'http://www.opengis.net/spec/tjs/2.0/conf/core'</p>
</li>
<li>
<p>Validate that the document lists all other OGC API conformance classes the server implements</p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2 data-line-31">
<h3 id="_conformance_class_core_data_joining_csv"><a class="anchor" href="#_conformance_class_core_data_joining_csv"></a>A.2. Conformance class: Core / Data Joining CSV</h3>
<table class="tableblock frame-all grid-all data-line-34" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Conformance Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/tjs/2.0/conf/core/data-joining-csv" class="bare">http://www.opengis.net/spec/tjs/2.0/conf/core/data-joining-csv</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements class</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rc_core">Requirements Class "Core"</a></p></td>
</tr>
</tbody>
</table>
<div class="sect3 data-line-0">
<h4 id="_spatial_datasets_rootspatialdatasets"><a class="anchor" href="#_spatial_datasets_rootspatialdatasets"></a>A.2.1. Spatial Datasets {root}/spatialdatasets</h4>
<table id="ats_core_spatialdatasets-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 7</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/spatialdatasets-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the information about spatial datasets can be retrieved from the expected location.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_spatialdatasets-op">/req/core/spatialdatasets-op</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Issue an HTTP GET request to the URL <code>{root}/spatialdatasets</code>.</p>
</li>
<li>
<p>Validate that a document was returned with a status code <code>200</code>.</p>
</li>
<li>
<p>Validate the contents of the returned document using test <a href="#ats_core_spatialdatasets-success">/ats/core/spatialdatasets-success</a></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<table id="ats_core_spatialdatasets-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 8</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/spatialdatasets-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the spatial datasets content complies with the required structure and contents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_spatialdatasets-success">/req/core/spatialdatasets-success</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Validate that the response document complies with <a href="#spatialdatasets_schema">spatialdatasets schema</a>.</p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3 data-line-0">
<h4 id="_spatial_dataset_rootspatialdatasetsspatialdatasetid"><a class="anchor" href="#_spatial_dataset_rootspatialdatasetsspatialdatasetid"></a>A.2.2. Spatial Dataset {root}/spatialdatasets/{spatialdatasetid}</h4>
<table id="ats_core_spatialdatasets-spatialdatasetid-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 9</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/spatialdatasets-spatialdatasetid-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that a spatial dataset information can be retrieved from the expected location.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_spatialdatasets-spatialdatasetid-op">/req/core/spatialdatasets-spatialdatasetid-op</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>For a list of all spatial datasets (path <code>{root}/spatialdatasets</code>), issue an HTTP GET request to the URL <code>{root}/spatialdatasets/{spatialdatasetid}</code> where {spatialdatasetid} is the spatialDatasetId property of a spatial dataset.</p>
</li>
<li>
<p>Validate that a document was returned with a status code <code>200</code>.</p>
</li>
<li>
<p>Validate the contents of the returned document using test <a href="#ats_core_spatialdatasets-spatialdatasetid-success">/ats/core/spatialdatasets-spatialdatasetid-success</a></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<table id="ats_core_spatialdatasets-spatialdatasetid-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 10</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/spatialdatasets-spatialdatasetid-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the spatial dataset complies with the required structure and contents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_spatialdatasets-spatialdatasetid-success">/req/core/spatialdatasets-spatialdatasetid-success</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Validate that the response document complies with <a href="#spatialdatasets_spatialdatasetid_schema">spatialdataset schema</a>.</p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3 data-line-0">
<h4 id="_spatial_dataset_keys_rootspatialdatasetsspatialdatasetidkeys"><a class="anchor" href="#_spatial_dataset_keys_rootspatialdatasetsspatialdatasetidkeys"></a>A.2.3. Spatial Dataset keys {root}/spatialdatasets/{spatialdatasetid}/keys</h4>
<table id="ats_core_spatialdatasets-spatialdatasetid-keys-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 11</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/spatialdatasets-spatialdatasetid-keys-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the information on spatial dataset key fields can be retrieved from the expected location.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_spatialdatasets-spatialdatasetid-keys-op">/req/core/spatialdatasets-spatialdatasetid-keys-op</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>For a spatial dataset (path <code>{root}/spatialdatasets/{spatialdatasetid}</code>), issue an HTTP GET request to the URL <code>{root}/spatialdatasets/{spatialdatasetid}/keys</code> where {spatialdatasetid} is the spatialDatasetId property of a spatial dataset.</p>
</li>
<li>
<p>Validate that a document was returned with a status code <code>200</code>.</p>
</li>
<li>
<p>Validate the contents of the returned document using test <a href="#ats_core_spatialdatasets-spatialdatasetid-keys-success">/ats/core/spatialdatasets-spatialdatasetid-keys-success</a></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<table id="ats_core_spatialdatasets-spatialdatasetid-keys-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 12</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/spatialdatasets-spatialdatasetid-keys-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the spatial datasets keys content complies with the required structure and contents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_spatialdatasets-spatialdatasetid-keys-success">/req/core/spatialdatasets-spatialdatasetid-keys-success</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Validate that the response document complies with <a href="#spatialdatasets_spatialdatasetid_keys_schema">spatialdataset key fields schema</a>.</p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3 data-line-0">
<h4 id="_spatial_dataset_key_field_rootspatialdatasetsspatialdatasetidkeyskeyname"><a class="anchor" href="#_spatial_dataset_key_field_rootspatialdatasetsspatialdatasetidkeyskeyname"></a>A.2.4. Spatial Dataset key field {root}/spatialdatasets/{spatialdatasetid}/keys/{keyname}</h4>
<table id="ats_core_spatialdatasets-spatialdatasetid-keys-keyname-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 13</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/spatialdatasets-spatialdatasetid-keys-keyname-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the information on keys that belong to the spatial dataset´s key field can be retrieved from the expected location.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_spatialdatasets-spatialdatasetid-keys-keyname-op">/req/core/spatialdatasets-spatialdatasetid-keys-keyname-op</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>For a spatial dataset (path <code>{root}/spatialdatasets/{spatialdatasetid}</code>), issue an HTTP GET request to the URL <code>{root}/spatialdatasets/{spatialdatasetid}/keys/{keyname}</code> where {spatialdatasetid} is the spatialDatasetId property of a spatial dataset and {keyname} is the keyName property of the spatial dataset key field.</p>
</li>
<li>
<p>Validate that a document was returned with a status code <code>200</code>.</p>
</li>
<li>
<p>Validate the contents of the returned document using test <a href="#ats_core_spatialdatasets-spatialdatasetid-keys-keyname-success">/ats/core/spatialdatasets-spatialdatasetid-keys-keyname-success</a></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<table id="ats_core_spatialdatasets-spatialdatasetid-keys-keyname-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 14</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/spatialdatasets-spatialdatasetid-keys-keyname-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the spatial dataset key field´s contents comply with the required structure and contents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_spatialdatasets-spatialdatasetid-keys-keyname-success">/req/core/spatialdatasets-spatialdatasetid-keys-keyname-success</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the response document complies with <a href="#spatialdatasets_spatialdatasetid_keys_keyname_schema">spatial dataset key field schema</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3 data-line-0">
<h4 id="_spatial_dataset_key_field_key_rootspatialdatasetsspatialdatasetidkeyskeynamekey"><a class="anchor" href="#_spatial_dataset_key_field_key_rootspatialdatasetsspatialdatasetidkeyskeynamekey"></a>A.2.5. Spatial Dataset key field key {root}/spatialdatasets/{spatialdatasetid}/keys/{keyname}/{key}</h4>
<table id="ats_core_spatialdatasets-spatialdatasetid-keys-keyname-key-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 15</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/spatialdatasets-spatialdatasetid-keys-keyname-key-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the spatial dataset´s key field´s key information can be retrieved from the expected location.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_spatialdatasets-spatialdatasetid-keys-keyname-key-op">/req/core/spatialdatasets-spatialdatasetid-keys-keyname-key-op</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>For a spatial dataset (path <code>{root}/spatialdatasets/{spatialdatasetid}</code>), issue an HTTP GET request to the URL <code>{root}/spatialdatasets/{spatialdatasetid}/keys/{keyname}/{key}</code> where {spatialdatasetid} is the spatialDatasetId property of a spatial dataset, {keyname} is the keyName property of the spatial dataset key field and {key} is the name of the key property of the spatial dataset key value.</p>
</li>
<li>
<p>Validate that a document was returned with a status code <code>200</code>.</p>
</li>
<li>
<p>Validate the contents of the returned document using test <a href="#ats_core_spatialdatasets-spatialdatasetid-keys-keyname-key-success">/ats/core/spatialdatasets-spatialdatasetid-keys-keyname-key-success</a></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<table id="ats_core_spatialdatasets-spatialdatasetid-keys-keyname-key-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 16</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/spatialdatasets-spatialdatasetid-keys-keyname-key-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the spatial dataset´s key content complies with the required structure and contents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_spatialdatasets-spatialdatasetid-keys-keyname-key-success">/req/core/spatialdatasets-spatialdatasetid-keys-keyname-key-success</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the response document complies with the <a href="#spatialdatasets_spatialdatasetid_keys_keyname_key_schema">spatial dataset key field key schema</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3 data-line-0">
<h4 id="_spatial_dataset_joining_with_csv_data_rootjoindataspatialdatasetidcsv"><a class="anchor" href="#_spatial_dataset_joining_with_csv_data_rootjoindataspatialdatasetidcsv"></a>A.2.6. Spatial Dataset joining with CSV data {root}/joindata/{spatialdatasetid}/csv</h4>
<table id="ats_core_joindata-spatialdatasetid-csv-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 17</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/joindata-spatialdatasetid-csv-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the data can be joined from a csv file with a specific spatial dataset from expected location.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_joindata-spatialdatasetid-csv-op">/req/core/joindata-spatialdatasetid-csv-op</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Issue an HTTP POST request to the URL <code>{root}/joindata/{spatialdatasetid}/csv</code> where {spatialdatasetid} is the spatialDatasetId property of a spatial dataset (from query <code>{root}/spatialdatasets</code>).</p>
</li>
<li>
<p>Validate that a document was returned with a status code <code>201</code>.</p>
</li>
<li>
<p>Validate the contents of the returned document using test <a href="#ats_core_joindata-spatialdatasetid-csv-success">/ats/core/joindata-spatialdatasetid-csv-success</a></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<table id="ats_core_joindata-spatialdatasetid-csv-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 18</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/joindata-spatialdatasetid-csv-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the data join response document complies with the required structure and contents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_joindata-spatialdatasetid-csv-success">/req/core/joindata-spatialdatasetid-csv-success</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Validate that the response document complies with the <a href="#joindata_spatialdatasetid_csv_schema">join data csv schema</a>.</p>
</li>
<li>
<p>Validate that the response document contains the joined data in all the requested output formats that are supported by the service implementation.</p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3 data-line-0">
<h4 id="_joins_rootjoins"><a class="anchor" href="#_joins_rootjoins"></a>A.2.7. Joins {root}/joins</h4>
<table id="ats_core_joins-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 19</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/joins-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the information about joins can be retrieved from the expected location.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_joins-op">/req/core/joins-op</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Issue an HTTP GET request to the URL <code>{root}/joins</code>.</p>
</li>
<li>
<p>Validate that a document was returned with a status code <code>200</code>.</p>
</li>
<li>
<p>Validate the contents of the returned document using test <a href="#ats_core_joins-success">/ats/core/joins-success</a></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<table id="ats_core_joins-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 20</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/joins-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the joins content complies with the required structure and contents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_joins-success">/req/core/joins-success</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the response document complies with <a href="#joins_schema">joins schema</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3 data-line-0">
<h4 id="_join_rootjoinsjoinid"><a class="anchor" href="#_join_rootjoinsjoinid"></a>A.2.8. Join {root}/joins/{joinid}</h4>
<table id="ats_core_joins-joinid-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 21</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/joins-joinid-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the information about a join can be retrieved from the expected location.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_joins-joinid-op">/req/core/joins-joinid-op</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>For a list of all joins (path <code>{root}/joins</code>), issue an HTTP GET request to the URL <code>{root}/joins/{joinid}</code> where {joinid} is the joinId property of a join.</p>
</li>
<li>
<p>Validate that a document was returned with a status code <code>200</code>.</p>
</li>
<li>
<p>Validate the contents of the returned document using test <a href="#ats_core_joins-joinid-success">/ats/core/joins-joinid-success</a></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<table id="ats_core_joins-joinid-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 22</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/joins-joinid-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the join content complies with the required structure and contents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_joins-joinid-success">/req/core/joins-joinid-success</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the response document complies with <a href="#joins_joinid_schema">join schema</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2 data-line-81">
<h3 id="_conformance_class_core_data_joining_csv_update"><a class="anchor" href="#_conformance_class_core_data_joining_csv_update"></a>A.3. Conformance class: Core / Data Joining CSV Update</h3>
<table class="tableblock frame-all grid-all data-line-84" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Conformance Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/tjs/2.0/conf/core/data-joining-csv-update" class="bare">http://www.opengis.net/spec/tjs/2.0/conf/core/data-joining-csv-update</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements class</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rc_core">Requirements Class "Core"</a></p></td>
</tr>
</tbody>
</table>
<div class="sect3 data-line-0">
<h4 id="_join_update_csv_rootjoinsjoinidcsv"><a class="anchor" href="#_join_update_csv_rootjoinsjoinidcsv"></a>A.3.1. Join Update CSV {root}/joins/{joinid}/csv</h4>
<table id="ats_core_joins-joinid-csv-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 23</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/joins-joinid-csv-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the join can be updated fully with a CSV data from expected location.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_joins-joinid-csv-op">/req/core/joins-joinid-csv-op</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Issue an HTTP POST request to the URL <code>{root}/joins/{joinid}/csv</code> where {joinid} is the joinId property of a join (from query <code>{root}/joins/{joinid}</code>).</p>
</li>
<li>
<p>Validate that a document was returned with a status code <code>200</code>.</p>
</li>
<li>
<p>Validate the contents of the returned document using test <a href="#ats_core_joins-joinid-csv-success">/ats/core/joins-joinid-csv-success</a></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<table id="ats_core_joins-joinid-csv-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 24</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/joins-joinid-csv-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the data can be joined from a csv file with a specific spatial dataset.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_joins-joinid-csv-success">/req/core/joins-joinid-csv-success</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Validate that the response document complies with <a href="#joins_joinid_csv_schema">join update schema</a>.</p>
</li>
<li>
<p>Validate that the response document contains the joined data in all the requested output formats that are supported by the service implementation.</p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2 data-line-96">
<h3 id="_conformance_class_core_data_joining_delete"><a class="anchor" href="#_conformance_class_core_data_joining_delete"></a>A.4. Conformance class: Core / Data Joining Delete</h3>
<table class="tableblock frame-all grid-all data-line-99" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Conformance Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/tjs/2.0/conf/core/data-joining-delete" class="bare">http://www.opengis.net/spec/tjs/2.0/conf/core/data-joining-delete</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements class</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rc_core">Requirements Class "Core"</a></p></td>
</tr>
</tbody>
</table>
<div class="sect3 data-line-0">
<h4 id="_join_delete_rootjoinsjoinid"><a class="anchor" href="#_join_delete_rootjoinsjoinid"></a>A.4.1. Join Delete {root}/joins/{joinid}</h4>
<table id="ats_core_joins-joinid-delete-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 25</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/joins-joinid-delete-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the join can be deleted from the expected location.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_joins-joinid-delete-op">/req/core/joins-joinid-delete-op</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Issue an HTTP DELETE request to the URL <code>{root}/joins/{joinid}</code> where {joinid} is the joinId property of a join (from query <code>{root}/joins{joinid}</code>).</p>
</li>
<li>
<p>Validate that a document was returned with a status code <code>204</code>.</p>
</li>
<li>
<p>Validate the contents of the returned document using test <a href="#ats_core_joins-joinid-delete-success">/ats/core/joins-joinid-delete-success</a></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<table id="ats_core_joins-joinid-delete-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 26</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/joins-joinid-delete-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the join was deleted from the server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_joins-joinid-delete-success">/req/core/joins-joinid-delete-success</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Validate that the join has been deleted from the server by issuing an HTTP GET request to the URL <code>{root}/joins/{joinid}</code> where {joind} is the same joinId property of the join that was used in the delete request.</p>
</li>
<li>
<p>Validate that the server sent a response code <code>404</code>.</p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2 data-line-111">
<h3 id="_conformance_class_core_file_joining_geojson_csv"><a class="anchor" href="#_conformance_class_core_file_joining_geojson_csv"></a>A.5. Conformance class: Core / File Joining GeoJSON CSV</h3>
<table class="tableblock frame-all grid-all data-line-114" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Conformance Class</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/tjs/2.0/req/core/file-joining-geojson-csv" class="bare">http://www.opengis.net/spec/tjs/2.0/req/core/file-joining-geojson-csv</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Web API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirements class</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="#rc_core">Requirements Class "Core"</a></p></td>
</tr>
</tbody>
</table>
<div class="sect3 data-line-0">
<h4 id="_file_joining_geojson_csv_rootjoinfilesgeojsoncsv"><a class="anchor" href="#_file_joining_geojson_csv_rootjoinfilesgeojsoncsv"></a>A.5.1. File Joining GeoJSON CSV {root}//joinfiles/geojson/csv</h4>
<table id="ats_core_joinfiles-geojson-csv-op" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 27</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/ats/core/joinfiles-geojson-csv-op</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that data from csv file can be joined with GeoJSON file from the expected location.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_joinfiles-geojson-csv-op">/req/core/joinfiles-geojson-csv-op</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Issue an HTTP POST request to the URL <code>{root}/joinfiles/geojson/csv</code>.</p>
</li>
<li>
<p>Validate that a document was returned with a status code <code>200</code>.</p>
</li>
<li>
<p>Validate the contents of the returned document using test <a href="#ats_core_joinfiles-geojson-csv-success">/ats/core/joinfiles-geojson-csv-success</a></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<table id="ats_core_joinfiles-geojson-csv-success" class="tableblock frame-all grid-all data-line-3" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Abstract Test 28</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/conf/core/joinfiles-geojson-csv-success</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Purpose</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the GeoJSON file contains the data that was joined from the CSV file.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><a href="#req_core_joinfiles-geojson-csv-success">/req/core/joinfiles-geojson-csv-success</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test Method</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Validate that the GeoJSON document contains the attributes that were joined from the CSV file</p>
</div></div></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1 data-line-3">
<h2 id="_revision_history"><a class="anchor" href="#_revision_history"></a>Annex B: Revision History</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch data-line-6">
<colgroup>
<col style="width: 12%;">
<col style="width: 18%;">
<col style="width: 12%;">
<col style="width: 12%;">
<col style="width: 46%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Date</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Release</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Editor</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Primary clauses modified</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2020-04-09</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">1.0.0-SNAPSHOT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">P. Latvala</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document into asciidoc-based format</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 data-line-4">
<h2 id="Bibliography"><a class="anchor" href="#Bibliography"></a>Annex C: Bibliography</h2>
<div class="sectionbody">
<div class="ulist data-line-118">
<ul>
<li class="data-line-118">
<p><a id="link-relations"></a> Internet Assigned Numbers Authority (IANA). <strong>Link Relation Types</strong> [online, viewed 2020-04-09], Available at <a href="https://www.iana.org/assignments/link-relations/link-relations.xml" class="bare">https://www.iana.org/assignments/link-relations/link-relations.xml</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-04-09 13:30:07 +0300
</div>
</div>
</body>
</html>